(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,s){},23:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},31:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s(3),i=s.n(a),n=s(15),r=s.n(n),o=(s(22),s(4)),l=s(5),d=s(7),j=s(6),h=s(16),u=(s(23),function(e){var t=Object(a.useState)(""),s=Object(h.a)(t,2),i=s[0],n=s[1];return Object(c.jsxs)("div",{className:"loginPage",children:[Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",fill:"black",children:Object(c.jsxs)("g",{children:[Object(c.jsx)("rect",{fill:"none",height:"24",width:"24"}),Object(c.jsx)("path",{d:"M12,1L3,5v6c0,5.55,3.84,10.74,9,12c5.16-1.26,9-6.45,9-12V5L12,1L12,1z M11,7h2v2h-2V7z M11,11h2v6h-2V11z"})]})})}),Object(c.jsx)("div",{className:"content",children:"This is a restricted site that requires pre-approval to use. If you'd like access to this site, you can request access using the button below. The request will be reviewed and approved if qualified."}),0===i.length?Object(c.jsx)("button",{onClick:function(){fetch("http://workout.beynum.com/workout/api/requestaccess",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){n("Access Requested")})).catch((function(t){console.warn(t),e.toast("Error processing request",!0)}))},children:"Request Access"}):null,Object(c.jsx)("div",{className:"update",children:i})]})}),v=(s(24),void 0),b=function(e){var t={fill:"rgb(245 81 28)"};return Object(c.jsxs)("div",{className:"navContainer",children:[Object(c.jsx)("div",{className:"item",onClick:e.changePage.bind(v,"home"),children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{style:t,d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),Object(c.jsx)("div",{className:"item",onClick:e.changePage.bind(v,"workout"),children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{style:t,d:"M20.57 14.86L22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"})})}),Object(c.jsx)("div",{className:"item",onClick:e.changePage.bind(v,"schedule"),children:Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(c.jsx)("path",{style:t,d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})})}),Object(c.jsx)("div",{className:"item",onClick:e.changePage.bind(v,"admin"),children:Object(c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",enableBackground:"new 0 0 24 24",viewBox:"0 0 24 24",children:[Object(c.jsx)("g",{children:Object(c.jsx)("rect",{fill:"none",height:"24",width:"24"})}),Object(c.jsx)("g",{children:Object(c.jsxs)("g",{children:[Object(c.jsx)("path",{style:t,d:"M17,11c0.34,0,0.67,0.04,1,0.09V6.27L10.5,3L3,6.27v4.91c0,4.54,3.2,8.79,7.5,9.82c0.55-0.13,1.08-0.32,1.6-0.55 C11.41,19.47,11,18.28,11,17C11,13.69,13.69,11,17,11z"}),Object(c.jsx)("path",{style:t,d:"M17,13c-2.21,0-4,1.79-4,4c0,2.21,1.79,4,4,4s4-1.79,4-4C21,14.79,19.21,13,17,13z M17,14.38c0.62,0,1.12,0.51,1.12,1.12 s-0.51,1.12-1.12,1.12s-1.12-0.51-1.12-1.12S16.38,14.38,17,14.38z M17,19.75c-0.93,0-1.74-0.46-2.24-1.17 c0.05-0.72,1.51-1.08,2.24-1.08s2.19,0.36,2.24,1.08C18.74,19.29,17.93,19.75,17,19.75z"})]})})]})})]})},m=s(10),O=s(11),x=s(13),g=s(12),w=(s(25),function(e){Object(x.a)(s,e);var t=Object(g.a)(s);function s(){return Object(m.a)(this,s),t.apply(this,arguments)}return Object(O.a)(s,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"page",children:Object(c.jsx)("h1",{children:"Main"})})}}]),s}(i.a.Component)),p=s(2),f=s(1),k=(s(26),s.p+"static/media/loading.44436c81.gif"),N=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var c;return Object(o.a)(this,s),(c=t.call(this,e)).getWeights=function(e,t){var s={};return e-=t.hasBar?45:0,s.has45=e>=90,e-=e>=90?90:0,s.has25=e>=50,e-=e>=50?50:0,s.has10=e>=20,e-=e>=20?20:0,s.has5=e>=10,e-=e>=10?10:0,s["has2.5"]=e>=5,e-=e>=5?5:0,s},c.selectWorkout=function(e){return function(t){c.setState((function(t){return{workouts:t.workouts.map((function(t,s){return Object(f.a)(Object(f.a)({},t),{},{isHidden:s!==e,isEdit:s===e})})),isEditMode:!0}}))}},c.addWorkout=function(e){var t={name:"New Workout"};fetch("http://workout.beynum.com/workout/api/workoutsave",{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({workout:t})}).then((function(e){return e.json()})).then((function(e){t.id=e.id,t.sets=[],c.setState((function(e){var s=e.workouts;return{workouts:[].concat(Object(p.a)(s),[t])}})),c.props.toast("Workout created")})).catch((function(e){console.warn(e),c.props.toast("Error adding workout",!0)}))},c.deleteWorkout=function(e){return function(t){fetch("http://workout.beynum.com/workout/api/workoutdelete?id="+c.state.workouts[e].id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){c.setState((function(t){var s=t.workouts;return{workouts:[].concat(Object(p.a)(s.slice(0,e)),Object(p.a)(s.slice(e+1)))}})),c.props.toast("Workout deleted")})).catch((function(e){console.warn(e),c.props.toast("Error deleting workout",!0)}))}},c.saveWorkout=function(e){return function(t){fetch("http://workout.beynum.com/workout/api/workoutsave",{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({workout:c.state.workouts[e]})}).then((function(e){return e.json()})).then((function(e){c.setState((function(e){return{workouts:e.workouts.map((function(e,t){return Object(f.a)(Object(f.a)({},e),{},{isHidden:!1,isEdit:!1})})),isEditMode:!1}}),(function(){c.props.toast("Workout saved")}))})).catch((function(e){console.warn(e),c.props.toast("Error updating workout",!0)}))}},c.changeName=function(e){return function(t){c.setState((function(s){var c=s.workouts;return{workouts:[].concat(Object(p.a)(c.slice(0,e)),[Object(f.a)(Object(f.a)({},c[e]),{},{name:t.target.value})],Object(p.a)(c.slice(e+1)))}}))}},c.addSet=function(e){return function(t){c.setState((function(t){var s=t.workouts;return{workouts:[].concat(Object(p.a)(s.slice(0,e)),[Object(f.a)(Object(f.a)({},s[e]),{},{sets:[].concat(Object(p.a)(s[e].sets),[{exercise:null,goalReps:0,goalWeight:0,rest:0}])})],Object(p.a)(s.slice(e+1)))}}))}},c.changeExercise=function(e,t){return function(s){var a,i=c.state.exercises.find((function(e){return e.name===s.target.value}));a=i.hasWeight?c.state.workouts[e].sets[t].goalWeight>0?c.state.workouts[e].sets[t].goalWeight:i.hasBar?45:0:0,c.setState((function(s){var n=s.workouts;return{workouts:[].concat(Object(p.a)(n.slice(0,e)),[Object(f.a)(Object(f.a)({},n[e]),{},{sets:[].concat(Object(p.a)(n[e].sets.slice(0,t)),[Object(f.a)(Object(f.a)({},n[e].sets[t]),{},{exercise:i,goalWeight:a},c.getWeights(a,i))],Object(p.a)(n[e].sets.slice(t+1)))})],Object(p.a)(n.slice(e+1)))}}))}},c.editRep=function(e,t,s){c.setState((function(c){var a=c.workouts;return{workouts:[].concat(Object(p.a)(a.slice(0,e)),[Object(f.a)(Object(f.a)({},a[e]),{},{sets:[].concat(Object(p.a)(a[e].sets.slice(0,t)),[Object(f.a)(Object(f.a)({},a[e].sets[t]),{},{goalReps:s})],Object(p.a)(a[e].sets.slice(t+1)))})],Object(p.a)(a.slice(e+1)))}}))},c.editRest=function(e,t,s){c.setState((function(c){var a=c.workouts;return{workouts:[].concat(Object(p.a)(a.slice(0,e)),[Object(f.a)(Object(f.a)({},a[e]),{},{sets:[].concat(Object(p.a)(a[e].sets.slice(0,t)),[Object(f.a)(Object(f.a)({},a[e].sets[t]),{},{rest:s})],Object(p.a)(a[e].sets.slice(t+1)))})],Object(p.a)(a.slice(e+1)))}}))},c.changeWeight=function(e,t,s){var a=c.state.workouts[e].sets[t],i=a.goalWeight+(a["has"+s]?2*s*-1:2*s);c.setState((function(s){var n=s.workouts;return{workouts:[].concat(Object(p.a)(n.slice(0,e)),[Object(f.a)(Object(f.a)({},n[e]),{},{sets:[].concat(Object(p.a)(n[e].sets.slice(0,t)),[Object(f.a)(Object(f.a)(Object(f.a)({},n[e].sets[t]),c.getWeights(i,a.exercise)),{},{goalWeight:i})],Object(p.a)(n[e].sets.slice(t+1)))})],Object(p.a)(n.slice(e+1)))}}))},c.state={isLoading:!0,isEditMode:!1,workouts:[],exercises:[]},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://workout.beynum.com/workout/api/workoutload",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){var s=t.workouts.map((function(t){return Object(f.a)(Object(f.a)({},t),{},{activityDays:t.activityDays.reduce((function(e,t){return e[new Date(t).getDay()]+=1,e}),[0,0,0,0,0,0,0]),sets:t.sets.map((function(t){return Object(f.a)(Object(f.a)({},t),e.getWeights(t.goalWeight,t.exercise))}))})}));e.setState({exercises:t.exercises.sort((function(e,t){return e.name>t.name?1:-1})),workouts:s,isLoading:!1})})).catch((function(t){console.warn(t),e.props.toast("Error loading workouts",!0)}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"page workoutPage",children:[Object(c.jsx)("h1",{className:this.state.isEditMode?"hidden":"",children:"My Workouts"}),this.state.isLoading?Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("img",{alt:"Loading",src:k}),Object(c.jsx)("div",{children:"Loading..."})]}):Object(c.jsxs)("div",{className:"workoutCards",children:[this.state.workouts.map((function(t,s){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"workoutCard ".concat(t.isHidden?"":"active"),children:[Object(c.jsxs)("div",{className:"cardContent",children:[Object(c.jsxs)("div",{className:"cardDetails",children:[Object(c.jsx)("div",{className:"cardHeader",children:t.isEdit?Object(c.jsx)("input",{type:"text",value:t.name,onChange:e.changeName(s)}):t.name}),Object(c.jsxs)("div",{className:"cardSubHeader",children:[Object(c.jsx)("div",{className:"label",children:"Last Workout "}),Object(c.jsx)("div",{className:"data",children:t.lastWorkout?t.lastWorkout.toDateString():"Not Started"})]}),Object(c.jsxs)("div",{className:"cardSubHeader",children:[Object(c.jsx)("div",{className:"label",children:"Sets"}),Object(c.jsx)("div",{className:"data",children:t.sets.length}),Object(c.jsx)("div",{className:"label",children:"\xa0\u2022\xa0Reps"}),Object(c.jsx)("div",{className:"data",children:t.sets.reduce((function(e,t){return e+t.goalReps}),0)})]})]}),Object(c.jsx)("div",{className:"cardAction",children:t.isEdit?Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.saveWorkout(s),children:Object(c.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}):Object(c.jsxs)("div",{className:"actions",children:[Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.props.startActivity.bind(e,t.id),children:Object(c.jsx)("path",{d:"M8 5v14l11-7z"})}),Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.selectWorkout(s),children:Object(c.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.deleteWorkout(s),children:Object(c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})]})})]}),Object(c.jsxs)("div",{className:"timelineContainer",children:[Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[0]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Sun"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[1]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Mon"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[2]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Tue"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[3]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Wed"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[4]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Thu"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[5]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Fri"})]}),Object(c.jsxs)("div",{className:"timelineDate",children:[Object(c.jsx)("div",{className:"timelineCount",children:t.activityDays[6]||"\u2022"}),Object(c.jsx)("div",{className:"timelineDay",children:"Sat"})]})]})]}),Object(c.jsxs)("div",{className:"setsList ".concat(t.isEdit?"active":""),children:[t.sets.map((function(t,a){return Object(c.jsxs)("div",{className:"setContainer",children:[Object(c.jsxs)("div",{className:"setTimeline",children:[Object(c.jsx)("div",{className:"timelineLine ".concat(0===a?"hidden":"")}),Object(c.jsx)("div",{className:"setNumber",children:a+1}),Object(c.jsx)("div",{className:"timelineLine"})]}),Object(c.jsxs)("div",{className:"setDetails",children:[Object(c.jsx)("div",{className:"setName",children:Object(c.jsxs)("select",{value:t.exercise?t.exercise.name:"",onChange:e.changeExercise(s,a),children:[Object(c.jsx)("option",{value:"",children:"Select Exercise"}),e.state.exercises.map((function(e,t){return Object(c.jsx)("option",{value:e.name,children:e.name},t)}))]})}),Object(c.jsxs)("div",{className:"setSettings",children:[Object(c.jsxs)("div",{className:"repsContainer",children:[Object(c.jsxs)("div",{className:"reps",children:[Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRep(s,a,t.goalReps-1)},children:"-"}),Object(c.jsx)("div",{className:"repsNumber",children:t.goalReps}),Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRep(s,a,t.goalReps+1)},children:"+"})]}),Object(c.jsx)("div",{children:"Reps"})]}),Object(c.jsxs)("div",{className:"weightContainer ".concat(t.exercise&&t.exercise.hasWeight?"":"hidden"),children:[Object(c.jsxs)("div",{className:"weights",children:[Object(c.jsx)("div",{className:"weight ".concat(t.has45?"active":""," "),onClick:function(){e.changeWeight(s,a,45)},children:"45"}),Object(c.jsx)("div",{className:"weight ".concat(t.has25?"active":""," "),onClick:function(){e.changeWeight(s,a,25)},children:"25"}),Object(c.jsx)("div",{className:"weight ".concat(t.has10?"active":""," "),onClick:function(){e.changeWeight(s,a,10)},children:"10"}),Object(c.jsx)("div",{className:"weight ".concat(t.has5?"active":""," "),onClick:function(){e.changeWeight(s,a,5)},children:"5"}),Object(c.jsx)("div",{className:"weight ".concat(t["has2.5"]?"active":""," "),onClick:function(){e.changeWeight(s,a,2.5)},children:"2.5"})]}),Object(c.jsxs)("div",{children:[t.goalWeight,"lbs"]})]})]}),Object(c.jsxs)("div",{className:"restContainer",children:[Object(c.jsx)("div",{className:"restLine"}),Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRest(s,a,t.rest-60)},children:"-"}),Object(c.jsx)("div",{className:"restNumber",children:t.rest/60}),Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRest(s,a,t.rest+60)},children:"+"}),Object(c.jsx)("div",{className:"restLine"})]})]})]},a)})),Object(c.jsx)("div",{className:"setContainer",children:Object(c.jsxs)("div",{className:"setTimeline",children:[Object(c.jsx)("div",{className:"timelineLine"}),Object(c.jsx)("div",{className:"setNumber",style:{cursor:"pointer"},onClick:e.addSet(s),children:"+"})]})})]})]},s)})),Object(c.jsx)("div",{className:"workoutCard ".concat(this.state.isEditMode?"":"active"),children:Object(c.jsx)("div",{className:"addWorkout",onClick:this.addWorkout,children:"+"})})]})]})}}]),s}(i.a.Component),y=(s(27),function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var c;return Object(o.a)(this,s),(c=t.call(this,e)).monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],c.weekNames=[{name:"Sunday",short:"S"},{name:"Monday",short:"M"},{name:"Tuesday",short:"T"},{name:"Wednesday",short:"W"},{name:"Thursday",short:"T"},{name:"Friday",short:"F"},{name:"Saturday",short:"S"}],c.loadMonth=function(e){var t=new Date,s=new Date(c.state.currentMonth.getFullYear(),c.state.currentMonth.getMonth(),1);s=new Date(s.setDate(s.getDate()-s.getDay()-1));var a=new Date(c.state.currentMonth.getFullYear(),c.state.currentMonth.getMonth()+1,1),i=a=new Date(a.setDate(a.getDate()-1));i=new Date(i.setDate(i.getDate()+(6-i.getDay())));var n=Math.ceil((i-s)/1e3/60/60/24/7),r=Array.from({length:n},(function(e,t){return Array.from({length:7},(function(e,t){return new Date(s.setDate(s.getDate()+1))}))}));r=r.map((function(e){return{days:e.map((function(e){return{day:e,isToday:e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}})),isSelected:c.state.selectedWeek}})),c.setState({calendar:r},(function(){return c.setState({selectedWeek:c.state.calendar.findIndex((function(e){return e.days.some((function(e){return e.isToday}))}))})}))},c.changeMonth=function(e){return function(t){var s=c.state.currentMonth;s=new Date(s.setMonth(s.getMonth()+e)),c.setState({currentMonth:s}),c.loadMonth()}},c.selectWeek=function(e){return function(t){c.setState({selectedWeek:e})}},c.state={isLoading:!1,currentMonth:new Date,selectedWeek:0,calendar:[]},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.loadMonth(!0)}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"page schedulePage",children:[Object(c.jsx)("h1",{children:"Schedule"}),this.state.isLoading?Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("img",{alt:"Loading",src:k}),Object(c.jsx)("div",{children:"Loading..."})]}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row monthHeader",children:[Object(c.jsx)("div",{className:"button",onClick:this.changeMonth(-1),children:"<"}),Object(c.jsx)("div",{children:this.monthNames[this.state.currentMonth.getMonth()]+" "+this.state.currentMonth.getFullYear()}),Object(c.jsx)("div",{className:"button",onClick:this.changeMonth(1),children:">"})]}),Object(c.jsxs)("div",{className:"calendar",children:[Object(c.jsx)("div",{className:"row week",children:this.weekNames.map((function(e,t){return Object(c.jsx)("div",{className:"date",children:e.short},t)}))}),this.state.calendar.map((function(t,s){return Object(c.jsx)("div",{className:"row week ".concat(s===e.state.selectedWeek?"weekHighlight":""),onClick:e.selectWeek(s),children:t.days.map((function(t,a){return Object(c.jsx)("div",{className:"date ".concat(t.isToday?"today":""," ").concat(s!==e.state.selectedWeek||0!==a&&6!==a?"":"weekKey"),children:t.day.getDate()},a)}))},s)}))]})]})]})}}]),s}(i.a.Component)),C=(s(28),s.p+"static/media/countdown.958036fa.mp3"),A=s.p+"static/media/getready.75c54146.mp3",S=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var c;return Object(o.a)(this,s),(c=t.call(this,e)).countdownAudio=new Audio(C),c.readyAudio=new Audio(A),c.video={},c.getWeights=function(e,t){var s={};return e-=t.hasBar?45:0,s.has45=e>=90,e-=e>=90?90:0,s.has25=e>=50,e-=e>=50?50:0,s.has10=e>=20,e-=e>=20?20:0,s.has5=e>=10,e-=e>=10?10:0,s["has2.5"]=e>=5,e-=e>=5?5:0,s},c.startActivity=function(){c.setState((function(e){var t=e.workout;return{activity:{workoutId:c.state.workout.id,runDate:new Date,sets:[],minElapsed:0,secElapsed:0},workout:Object(f.a)(Object(f.a)({},t),{},{sets:[Object(f.a)(Object(f.a)({},t.sets[0]),{},{isActive:!0})].concat(Object(p.a)(t.sets.slice(1)))})}}),(function(){var e=setInterval(c.updateTime,1e3);c.setState({workoutInterval:e})}))},c.startSet=function(e){return function(t){c.setState((function(t){var s=t.workout;return{workout:Object(f.a)(Object(f.a)({},s),{},{sets:s.sets.map((function(t,s){return Object(f.a)(Object(f.a)({},t),{},{isRest:!1,isActive:e===s})}))})}}))}},c.editRep=function(e,t){c.setState((function(s){var c=s.workout;return{workout:Object(f.a)(Object(f.a)({},c),{},{sets:[].concat(Object(p.a)(c.sets.slice(0,e)),[Object(f.a)(Object(f.a)({},c.sets[e]),{},{goalReps:t})],Object(p.a)(c.sets.slice(e+1)))})}}))},c.editWeight=function(e,t){var s=c.state.workout.sets[e],a=s.goalWeight+(s["has"+t]?2*t*-1:2*t);c.setState((function(t){var i=t.workout;return{workout:Object(f.a)(Object(f.a)({},i),{},{sets:[].concat(Object(p.a)(i.sets.slice(0,e)),[Object(f.a)(Object(f.a)({},i.sets[e]),{},{goalWeight:a},c.getWeights(a,s.exercise))],Object(p.a)(i.sets.slice(e+1)))})}}))},c.setComplete=function(e){return function(t){var s=c.state.activity.sets;if(s.some((function(t){return t.id===c.state.workout.sets[e].id}))){var a=s.find((function(t){return t.id===c.state.workout.sets[e].id}));a.reps=c.state.workout.sets[e].goalReps,a.weight=c.state.workout.sets[e].goalWeight}else s.push({id:c.state.workout.sets[e].id,exercise:c.state.workout.sets[e].exercise,reps:c.state.workout.sets[e].goalReps,weight:c.state.workout.sets[e].goalWeight});c.setState((function(t){var c=t.activity,a=t.workout;return{activity:Object(f.a)(Object(f.a)({},c),{},{sets:s}),workout:Object(f.a)(Object(f.a)({},a),{},{sets:[].concat(Object(p.a)(a.sets.slice(0,e)),[Object(f.a)(Object(f.a)({},a.sets[e]),{},{isComplete:!0,isActive:!1,isRest:e<a.sets.length,restMin:e<a.sets.length?Math.floor(a.sets[e].rest/60):0,restSec:e<a.sets.length?Math.floor(a.sets[e].rest%60):0})],Object(p.a)(a.sets.slice(e+1)))}),playReady:!0,playCountdown:!0}})),c.video.play()}},c.deleteSet=function(e){return function(t){c.setState((function(t){var s=t.workout,a=t.activity;return{workout:Object(f.a)(Object(f.a)({},s),{},{sets:s.sets.filter((function(t,s){return s!==e}))}),activity:Object(f.a)(Object(f.a)({},a),{},{sets:a.sets.filter((function(t){return t.id!==c.state.workout.sets[e].id}))})}}))}},c.saveActivity=function(e){fetch("http://workout.beynum.com/workout/api/activitysave",{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({activity:c.state.activity})}).then((function(e){return e.json()})).then((function(e){c.props.activityComplete()})).catch((function(e){console.warn(e),c.props.toast("Error updating workout",!0)}))},c.updateTime=function(){c.setState((function(e){var t=e.activity;return{activity:Object(f.a)(Object(f.a)({},t),{},{minElapsed:Math.floor((Date.now()-c.state.activity.runDate)/1e3/60),secElapsed:Math.floor((Date.now()-c.state.activity.runDate)/1e3%60)})}}));var e=c.state.workout.sets.findIndex((function(e){return e.isRest}));if(e>=0){var t=c.state.workout.sets[e].restMin,s=c.state.workout.sets[e].restSec;s>0?s--:t>0&&(t--,s=59),t<=0&&s<=0?(c.setState((function(t){var s=t.workout;return{workout:Object(f.a)(Object(f.a)({},s),{},{sets:s.sets.map((function(t,s){return Object(f.a)(Object(f.a)({},t),{},{isRest:!1,isActive:s===e+1})}))})}})),c.video.pause()):c.state.playReady&&t<=0&&s<30&&s>=28?(c.readyAudio.play(),c.setState({playReady:!1})):c.state.playCountdown&&t<=0&&s<=3?(c.countdownAudio.play(),c.setState({playCountdown:!1})):c.setState((function(c){var a=c.workout;return{workout:Object(f.a)(Object(f.a)({},a),{},{sets:[].concat(Object(p.a)(a.sets.slice(0,e)),[Object(f.a)(Object(f.a)({},a.sets[e]),{},{restMin:t,restSec:s})],Object(p.a)(a.sets.slice(e+1)))})}}))}},c.state={isLoading:!0,workout:{id:e.workoutId}},c}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://workout.beynum.com/workout/api/activityload?id="+this.state.workout.id,{credentials:"include"}).then((function(e){return e.json()})).then((function(t){var s=t.workout;s.sets=t.workout.sets.map((function(t){return Object(f.a)(Object(f.a)({},t),e.getWeights(t.goalWeight,t.exercise))})),e.setState({workout:s,isLoading:!1})})).catch((function(t){console.warn(t),e.props.toast("Error loading workout",!0)}));this.video=document.createElement("video"),this.video.setAttribute("loop","");var t=document.createElement("source");t.src="data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=",t.type="video/webm",this.video.appendChild(t)}},{key:"componentWillUnmount",value:function(){this.state.workoutInterval&&clearInterval(this.state.workoutInterval)}},{key:"render",value:function(){var e=this;return Object(c.jsx)("div",{className:"page activityPage",children:this.state.isLoading?Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("img",{alt:"Loading",src:k}),Object(c.jsx)("div",{children:"Loading..."})]}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"activityCard",children:[Object(c.jsxs)("div",{className:"cardContent",children:[Object(c.jsx)("div",{className:"cardHeader",children:this.state.workout.name}),Object(c.jsxs)("div",{className:"cardInfo",children:[Object(c.jsx)("div",{children:"time"}),Object(c.jsx)("div",{className:"cardData",children:this.state.activity?this.state.activity.minElapsed+" min "+this.state.activity.secElapsed+" sec":"Not Started"})]}),Object(c.jsxs)("div",{className:"cardInfo",children:[Object(c.jsx)("div",{children:"sets remain"}),Object(c.jsx)("div",{className:"cardData",children:this.state.activity?this.state.workout.sets.length-this.state.activity.sets.length:"Not Started"})]})]}),Object(c.jsx)("div",{className:"cardRemaining",children:this.state.activity&&this.state.activity.sets.length===this.state.workout.sets.length?Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"workoutAction",onClick:this.saveActivity,children:Object(c.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"})}):this.state.activity?Object(c.jsxs)("svg",{viewBox:"0 0 42 42",children:[Object(c.jsx)("circle",{className:"setsSegment",cx:"21",cy:"21",r:"15.91549430918954",strokeWidth:"2",strokeDasharray:100-Math.round(this.state.activity.sets.length/this.state.workout.sets.length*100)+" "+Math.round(this.state.activity.sets.length/this.state.workout.sets.length*100),strokeDashoffset:"25"}),Object(c.jsx)("text",{x:"21",y:"26",textAnchor:"middle",children:100-(this.state.activity.sets.length>0?Math.round(this.state.activity.sets.length/this.state.workout.sets.length*100):0)})]}):Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"workoutAction",onClick:this.startActivity,children:Object(c.jsx)("path",{d:"M8 5v14l11-7z"})})})]}),this.state.workout.sets.map((function(t,s){return Object(c.jsxs)("div",{className:"cardContainer",children:[Object(c.jsxs)("div",{className:"setContainer",children:[Object(c.jsxs)("div",{className:"setTimeline",children:[Object(c.jsx)("div",{className:"timelineLine ".concat(0===s?"hidden":"")}),Object(c.jsx)("div",{className:"setNumber",children:s+1}),s<e.state.workout.sets.length-1&&Object(c.jsx)("div",{className:"timelineLine"})]}),t.isActive?Object(c.jsxs)("div",{className:"setCard active",children:[Object(c.jsxs)("div",{className:"setCardContainer",children:[Object(c.jsx)("div",{className:"setNameActive",children:t.exercise.name}),t.maxSet&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row",children:["max",Object(c.jsx)("div",{className:"cardData",children:t.maxSet?new Date(t.maxSet.runDate).toDateString():""})]}),Object(c.jsxs)("div",{className:"row",children:["reps",Object(c.jsx)("div",{className:"cardData",children:t.maxSet.reps}),t.exercise.hasWeight&&Object(c.jsxs)("div",{className:"row",children:["\xa0weight",Object(c.jsx)("div",{className:"cardData",children:t.maxSet.weight}),"\xa01rm",Object(c.jsx)("div",{className:"cardData",children:t.maxSet.oneRepMax})]})]})]}),Object(c.jsxs)("div",{className:"repsContainerActive",children:[Object(c.jsxs)("div",{className:"repsActive",children:[Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRep(s,t.goalReps-1)},children:"-"}),Object(c.jsx)("div",{className:"repsNumber",children:t.goalReps}),Object(c.jsx)("div",{className:"editButton",onClick:function(){e.editRep(s,t.goalReps+1)},children:"+"})]}),Object(c.jsx)("div",{children:"Reps"})]}),t.exercise&&t.exercise.hasWeight&&Object(c.jsxs)("div",{className:"weightContainerActive",children:[Object(c.jsxs)("div",{className:"weightsActive",children:[Object(c.jsx)("div",{className:"weightActive ".concat(t.has45?"active":""," "),onClick:function(){e.editWeight(s,45)},children:"45"}),Object(c.jsx)("div",{className:"weightActive ".concat(t.has25?"active":""," "),onClick:function(){e.editWeight(s,25)},children:"25"}),Object(c.jsx)("div",{className:"weightActive ".concat(t.has10?"active":""," "),onClick:function(){e.editWeight(s,10)},children:"10"}),Object(c.jsx)("div",{className:"weightActive ".concat(t.has5?"active":""," "),onClick:function(){e.editWeight(s,5)},children:"5"}),Object(c.jsx)("div",{className:"weightActive ".concat(t["has2.5"]?"active":""," "),onClick:function(){e.editWeight(s,2.5)},children:"2.5"})]}),Object(c.jsx)("div",{className:"weightInfo",children:Object(c.jsxs)("div",{children:["weight ",t.goalWeight," lbs"]})})]})]}),Object(c.jsxs)("div",{className:"setActionActive",children:[Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.setComplete(s),children:Object(c.jsx)("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"})}),Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.deleteSet(s),children:Object(c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})]})]}):Object(c.jsxs)("div",{className:"setCard",children:[Object(c.jsxs)("div",{className:"setCardContainer",children:[Object(c.jsx)("div",{className:"setName",children:t.exercise.name}),Object(c.jsxs)("div",{className:"cardInfo",children:[Object(c.jsx)("div",{children:"reps"}),Object(c.jsx)("div",{className:"cardData",children:e.state.activity&&e.state.activity.sets.length>=s&&e.state.activity.sets.length<s?e.state.activity.sets[s].reps:t.goalReps})]}),t.exercise&&t.exercise.hasWeight&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"cardInfo",children:[Object(c.jsx)("div",{children:"weight"}),Object(c.jsxs)("div",{className:"cardData",children:[e.state.activity&&e.state.activity.sets.length>=s&&e.state.activity.sets.length<s?e.state.activity.sets[s].weight:t.goalWeight," lbs"]})]}),Object(c.jsxs)("div",{className:"cardInfo",children:[Object(c.jsx)("div",{className:"weight ".concat(t.has45?"active":""," "),children:"45"}),Object(c.jsx)("div",{className:"weight ".concat(t.has25?"active":""," "),children:"25"}),Object(c.jsx)("div",{className:"weight ".concat(t.has10?"active":""," "),children:"10"}),Object(c.jsx)("div",{className:"weight ".concat(t.has5?"active":""," "),children:"5"}),Object(c.jsx)("div",{className:"weight ".concat(t["has2.5"]?"active":""," "),children:"2.5"})]})]})]}),Object(c.jsx)("div",{className:"setAction ".concat(t.isComplete?"complete":""),children:t.isComplete?Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.startSet(s),children:Object(c.jsx)("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"})}):e.state.activity?Object(c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",onClick:e.startSet(s),children:Object(c.jsx)("path",{d:"M8 5v14l11-7z"})}):Object(c.jsx)("div",{})})]})]}),s<e.state.workout.sets.length-1&&Object(c.jsxs)("div",{className:"setContainer",children:[Object(c.jsxs)("div",{className:"setTimeline",children:[Object(c.jsx)("div",{className:"timelineLine"}),Object(c.jsx)("div",{className:"timeLineRest"}),Object(c.jsx)("div",{className:"timelineLine"})]}),t.isRest?Object(c.jsx)("div",{className:"restContainerActive",children:Object(c.jsx)("div",{className:"restCountdown",children:Object(c.jsxs)("svg",{viewBox:"0 0 42 42",children:[Object(c.jsx)("circle",{className:"restSegment",cx:"21",cy:"21",r:"15.91549430918954",strokeDashoffset:"25",strokeDasharray:Math.round((60*t.restMin+t.restSec)/t.rest*100)+" "+(100-Math.round((60*t.restMin+t.restSec)/t.rest*100))}),Object(c.jsx)("text",{x:"19",y:"25",textAnchor:"end",children:(t.restMin<10?"0":"")+t.restMin}),Object(c.jsx)("text",{x:"21",y:"25",textAnchor:"middle",children:":"}),Object(c.jsx)("text",{x:"23",y:"25",textAnchor:"start",children:(t.restSec<10?"0":"")+t.restSec})]})})}):Object(c.jsxs)("div",{className:"restContainer",children:[Object(c.jsx)("div",{className:"restLine"}),Object(c.jsx)("div",{className:"restNumber",children:t.rest/60}),Object(c.jsx)("div",{className:"restLine"})]})]})]},s)}))]})})}}]),s}(i.a.Component),D=(s(29),function(e){Object(x.a)(s,e);var t=Object(g.a)(s);function s(e){var c;return Object(m.a)(this,s),(c=t.call(this,e)).getUserStyle=function(e){return{display:e?"flex":"none"}},c.state={isUserExpanded:!1,isRoleExpanded:!1,users:[],roles:[]},c}return Object(O.a)(s,[{key:"componentDidMount",value:function(){this.setState({users:[{id:1,name:"Brett van Beynum",roles:[{id:1,name:"Admin"}],devices:[{id:1,type:"Phone"},{id:2,type:"Chromebook"}]},{id:2,name:"Luke van Beynum",roles:[]}]}),this.setState({roles:[{id:1,name:"Admin"}]})}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{className:"page adminPage",children:[Object(c.jsx)("div",{className:"headerBackground"}),Object(c.jsxs)("div",{className:"container",onClick:function(t){e.setState({isUserExpanded:!e.state.isUserExpanded,isRoleExpanded:!1})},children:[Object(c.jsxs)("div",{className:"subHeader",children:[this.state.users.length," users total"]}),Object(c.jsx)("div",{className:"header",children:"Users"}),Object(c.jsx)("div",{className:"listContainer",style:this.getUserStyle(this.state.isUserExpanded),children:this.state.users.map((function(e){return Object(c.jsx)("div",{className:"listItem",children:Object(c.jsxs)("div",{className:"itemContainer",children:[Object(c.jsx)("div",{className:"itemIcon",children:e.name.substring(0,1)}),Object(c.jsx)("div",{className:"itemHeader",children:e.name})]})})}))})]}),Object(c.jsxs)("div",{className:"container",onClick:function(t){e.setState({isUserExpanded:!1,isRoleExpanded:!e.state.isRoleExpanded})},children:[Object(c.jsxs)("div",{className:"subHeader",children:[this.state.roles.length," roles total"]}),Object(c.jsx)("div",{className:"header",children:"Roles"}),Object(c.jsx)("div",{className:"listContainer",style:this.getUserStyle(this.state.isRoleExpanded)})]})]})}}]),s}(i.a.Component)),M=(s(30),function(e){return Object(c.jsx)("div",{className:"toast ".concat(e.message.isActive?"isActive":""," ").concat(e.message.type),children:e.message.text})}),W=function(e){Object(d.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showToast=function(e,t){a.setState({toast:{text:e,isActive:!0,type:t?"error":"info"}}),setTimeout((function(){a.setState({toast:{text:"",isActive:!1,type:"info"}})}),4e3)},a.changePage=function(e){if(a.state.isLoggedIn)switch(e){case"home":a.setState({page:Object(c.jsx)(w,{toast:a.showToast})});break;case"workout":a.setState({page:Object(c.jsx)(N,{startActivity:a.startActivity,toast:a.showToast})});break;case"activity":a.setState({page:Object(c.jsx)(S,{workoutId:a.state.currentWorkout,activityComplete:a.activityComplete,toast:a.showToast})});break;case"schedule":a.setState({page:Object(c.jsx)(y,{toast:a.showToast})});break;case"admin":a.setState({page:Object(c.jsx)(D,{toast:a.showToast})})}},a.startActivity=function(e){a.setState((function(){return{currentWorkout:e}}),(function(){a.changePage("activity")}))},a.activityComplete=function(){a.setState((function(){return{currentWorkout:null}}),(function(){a.changePage("home")}))},a.state={isLoading:!0,isLoggedIn:!1,currentWorkout:null,toast:{text:"",isActive:!1,type:"info"}},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("http://workout.beynum.com/workout/api/appload",{credentials:"include"}).then((function(e){return e.json()})).then((function(t){e.setState({isLoggedIn:t.loggedIn,page:t.loggedIn?Object(c.jsx)(w,{toast:e.showToast}):Object(c.jsx)(u,{toast:e.showToast}),isLoading:!1})}))}},{key:"componentDidCatch",value:function(e,t){fetch("http://workout.beynum.com/workout/api/errorsave",{method:"post",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({error:{error:e,info:t}})})}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"pageContainer",children:[this.state.isLoading?Object(c.jsx)("div",{children:"Loading"}):this.state.page,this.state.isLoggedIn?Object(c.jsx)(b,{changePage:this.changePage}):null,Object(c.jsx)(M,{message:this.state.toast})]})}}]),s}(i.a.Component);r.a.render(Object(c.jsx)(W,{}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.37dcdedc.chunk.js.map