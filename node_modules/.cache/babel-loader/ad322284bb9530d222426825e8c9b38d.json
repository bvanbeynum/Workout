{"ast":null,"code":"import _toConsumableArray from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// eslint-disable-next-line\n/* global fetch */import React from\"react\";import\"./workoutactivity.css\";import loadingImage from\"../media/loading.gif\";import countdownURL from\"../media/countdown.mp3\";import readyURL from\"../media/getready.mp3\";var WorkoutActivity=/*#__PURE__*/function(_React$Component){_inherits(WorkoutActivity,_React$Component);var _super=_createSuper(WorkoutActivity);function WorkoutActivity(props){var _this;_classCallCheck(this,WorkoutActivity);_this=_super.call(this,props);_this.countdownAudio=new Audio(countdownURL);_this.readyAudio=new Audio(readyURL);_this.video={};_this.completeSet=function(setIndex){if(_this.state.restInterval){clearInterval(_this.state.restInterval);}_this.setState(function(_ref){var workout=_ref.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:workout.sets.map(function(workoutSet,mapIndex){return _objectSpread(_objectSpread({},workoutSet),{},{isComplete:mapIndex===setIndex?true:workoutSet.isComplete,isRest:mapIndex===setIndex?true:false});})}),countDown:{min:setIndex<workout.sets.length?Math.floor(workout.sets[setIndex].rest/60):0,sec:setIndex<workout.sets.length?Math.floor(workout.sets[setIndex].rest%60):0,canPlayReady:true,canPlayCountdown:true}};},function(){var restInterval=setInterval(_this.updateTime,1000);_this.setState({restInterval:restInterval});_this.video.play();});};_this.deleteSet=function(setIndex){_this.setState(function(_ref2){var workout=_ref2.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:[].concat(_toConsumableArray(workout.sets.slice(0,setIndex)),_toConsumableArray(workout.sets.slice(setIndex+1)))})};});};_this.addSet=function(setIndex){var exercise=_this.state.exercises[0],newSet=_objectSpread({exercise:exercise,reps:exercise.maxReps||0,weight:exercise.maxWeight||0},_this.getWeights(exercise.maxWeight||0,exercise));_this.setState(function(_ref3){var workout=_ref3.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:[].concat(_toConsumableArray(workout.sets.slice(0,setIndex+1)),[newSet],_toConsumableArray(workout.sets.slice(setIndex+1)))})};});};_this.changeExercise=function(setIndex){return function(event){var exercise=_this.state.exercises.find(function(exercise){return exercise.name===event.target.value;});_this.setState(function(_ref4){var workout=_ref4.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:[].concat(_toConsumableArray(workout.sets.slice(0,setIndex)),[_objectSpread(_objectSpread({},workout.sets[setIndex]),{},{reps:exercise.maxReps||0,weight:exercise.maxWeight||0,exercise:exercise})],_toConsumableArray(workout.sets.slice(setIndex+1)))})};});};};_this.saveActivity=function(){var activity={workoutId:_this.state.workout.id,runDate:new Date(),sets:_this.state.workout.sets.filter(function(workoutSet){return workoutSet.isComplete;}).map(function(workoutSet){return{exercise:{id:workoutSet.exercise.id,name:workoutSet.exercise.name,category:workoutSet.exercise.category},reps:workoutSet.reps,weight:workoutSet.weight};})};fetch(\"http://workout.beynum.com/workout/api/activitysave\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({activity:activity})}).then(function(response){return response.json();}).then(function(data){_this.props.activityComplete();}).catch(function(error){console.warn(error);_this.props.toast(\"Error updating workout\",true);});};_this.editReps=function(setIndex,newReps){_this.setState(function(_ref5){var workout=_ref5.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:[].concat(_toConsumableArray(workout.sets.slice(0,setIndex)),[_objectSpread(_objectSpread({},workout.sets[setIndex]),{},{reps:newReps})],_toConsumableArray(workout.sets.slice(setIndex+1)))})};});};_this.editWeight=function(setIndex,weight){var newTotal=_this.state.workout.sets[setIndex].weight+(_this.state.workout.sets[setIndex][\"has\"+weight]?weight*2*-1:weight*2);_this.setState(function(_ref6){var workout=_ref6.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:[].concat(_toConsumableArray(workout.sets.slice(0,setIndex)),[_objectSpread(_objectSpread(_objectSpread({},workout.sets[setIndex]),_this.getWeights(newTotal,workout.sets[setIndex].exercise)),{},{weight:newTotal})],_toConsumableArray(workout.sets.slice(setIndex+1)))})};});};_this.getWeights=function(totalWeight,exercise){var weights={};totalWeight-=exercise.hasBar?45:0;weights.has45=totalWeight>=45*2;totalWeight-=totalWeight>=45*2?45*2:0;weights.has25=totalWeight>=25*2;totalWeight-=totalWeight>=25*2?25*2:0;weights.has10=totalWeight>=10*2;totalWeight-=totalWeight>=10*2?10*2:0;weights.has5=totalWeight>=5*2;totalWeight-=totalWeight>=5*2?5*2:0;weights[\"has2.5\"]=totalWeight>=2.5*2;totalWeight-=totalWeight>=2.5*2?2.5*2:0;return weights;};_this.updateTime=function(){var sec=_this.state.countDown.sec,min=_this.state.countDown.min;if(sec>0){sec--;}else if(min>0){min--;sec=59;}if(sec<=0&&min<=0){// complete\nif(_this.state.restInterval){clearInterval(_this.state.restInterval);}_this.setState(function(_ref7){var workout=_ref7.workout;return{workout:_objectSpread(_objectSpread({},workout),{},{sets:workout.sets.map(function(workoutSet){return _objectSpread(_objectSpread({},workoutSet),{},{isRest:false});})})};});_this.video.pause();}else if(_this.state.countDown.canPlayReady&&min<=0&&sec<=30&&sec>28){console.log(\"ready\");// Play get ready\n_this.readyAudio.play();_this.setState(function(_ref8){var countDown=_ref8.countDown;return{countDown:_objectSpread(_objectSpread({},countDown),{},{canPlayReady:false})};});}else if(_this.state.countDown.canPlayCountdown&&min<=0&&sec<=3){console.log(\"countdown\");// PlayCountdown\n_this.countdownAudio.play();_this.setState(function(_ref9){var countDown=_ref9.countDown;return{countDown:_objectSpread(_objectSpread({},countDown),{},{canPlayCountdown:false})};});}_this.setState(function(_ref10){var countDown=_ref10.countDown;return{countDown:_objectSpread(_objectSpread({},countDown),{},{min:min,sec:sec})};});};_this.state={isLoading:true,countDown:{min:0,sec:0},workout:{id:_this.props.workoutId}};return _this;}_createClass(WorkoutActivity,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://workout.beynum.com/workout/api/activityload?id=\"+this.state.workout.id,{credentials:\"include\"}).then(function(response){return response.json();}).then(function(data){var workout=data.workout;var exercises=data.exercises.map(function(exercise){var graphDates=_toConsumableArray(new Set(exercise.activities.map(function(activity){return+new Date(activity.runDateOnly);})));var days=graphDates.map(function(date,dateIndex){return{date:new Date(date).getMonth()+1+\"/\"+new Date(date).getDate(),oneRepMax:exercise.activities.filter(function(activity){return+new Date(activity.runDateOnly)===date;}).map(function(activity){return activity.oneRepMax;}).sort(function(activityA,activityB){return activityB-activityA;})[0],setWeights:exercise.activities.filter(function(activity){return+new Date(activity.runDateOnly)===date;}).map(function(activity){return activity.weight;}),setReps:exercise.activities.filter(function(activity){return+new Date(activity.runDateOnly)===date;}).map(function(activity){return activity.reps;})};});var graphSize={width:350,height:200,barY:150,weightHeight:45,repHeight:100},dayWidth=graphSize.width/graphDates.length,barWidth=5;var oneRepMax={};oneRepMax.minValue=Math.min.apply(Math,_toConsumableArray(days.map(function(date){return date.oneRepMax;})));oneRepMax.maxValue=Math.max.apply(Math,_toConsumableArray(days.map(function(date){return date.oneRepMax;})));oneRepMax.minGraph=oneRepMax.minValue-oneRepMax.minValue*.2;oneRepMax.maxGraph=oneRepMax.maxValue+oneRepMax.maxValue*.05;oneRepMax.valueHeight=oneRepMax.maxGraph-oneRepMax.minGraph;var oneRepMaxPath=days.map(function(day,dayIndex){var pointX=dayWidth*dayIndex,pointY=(oneRepMax.maxGraph-day.oneRepMax)*graphSize.height/oneRepMax.valueHeight;var path=\"\";if(dayIndex===0){path=\"M0,\";}else if(dayIndex===days.length-1){path=\"L\"+graphSize.width+\",\";}else{path=\"L\"+(pointX+dayWidth/2)+\",\";}path+=pointY;return path;}).join(\" \");var bars={};bars.weight={};bars.weight.minValue=Math.min.apply(Math,_toConsumableArray(days.flatMap(function(day){return day.setWeights;})));bars.weight.maxValue=Math.max.apply(Math,_toConsumableArray(days.flatMap(function(day){return day.setWeights;})));bars.weight.valueHeight=bars.weight.maxValue-bars.weight.minValue;var weightBars=days.map(function(day,dayIndex){return{weights:day.setWeights.map(function(weight,weightIndex){var xLeft=dayWidth*dayIndex+dayWidth/2-barWidth*3,barX=xLeft+barWidth*weightIndex,barHeight=weight*graphSize.weightHeight/bars.weight.maxValue;return\"M\"+barX+\",\"+graphSize.barY+\" L\"+(barX+barWidth)+\",\"+graphSize.barY+\" L\"+(barX+barWidth)+\",\"+(graphSize.barY+barHeight)+\" C\"+(barX+barWidth)+\",\"+(graphSize.barY+barHeight+8)+\" \"+barX+\",\"+(graphSize.barY+barHeight+8)+\" \"+barX+\",\"+(graphSize.barY+barHeight);})};}).flatMap(function(day){return day.weights;});bars.reps={};bars.reps.minValue=Math.min.apply(Math,_toConsumableArray(days.flatMap(function(day){return day.setReps;})));bars.reps.maxValue=Math.max.apply(Math,_toConsumableArray(days.flatMap(function(day){return day.setReps;})));bars.reps.valueHeight=bars.reps.maxValue-bars.reps.minValue;var repBars=days.map(function(day,dayIndex){return{reps:day.setReps.map(function(rep,repIndex){var xLeft=dayWidth*dayIndex+dayWidth/2-barWidth*3,barX=xLeft+barWidth*repIndex,barHeight=rep*graphSize.repHeight/bars.reps.maxValue;return\"M\"+barX+\",\"+graphSize.barY+(exercise.hasWeight?\" L\"+(barX+barWidth)+\",\"+graphSize.barY:\" C\"+barX+\",\"+(graphSize.barY+3)+\" \"+(barX+barWidth)+\",\"+(graphSize.barY+3)+\" \"+(barX+barWidth)+\",\"+graphSize.barY)+\" L\"+(barX+barWidth)+\",\"+(graphSize.barY-barHeight)+\" C\"+(barX+barWidth)+\",\"+(graphSize.barY-barHeight-3)+\" \"+barX+\",\"+(graphSize.barY-barHeight-3)+\" \"+barX+\",\"+(graphSize.barY-barHeight);})};}).flatMap(function(day){return day.reps;});return _objectSpread(_objectSpread({},exercise),{},{graph:{days:days,weightBars:exercise.hasWeight?weightBars:[],repBars:repBars,oneRepMaxPath:exercise.hasWeight?oneRepMaxPath:\"\",oneRepMaxPathFill:exercise.hasWeight?oneRepMaxPath+\" L\"+graphSize.width+\",\"+graphSize.height+\" L0,\"+graphSize.height:\"\"}});});workout.sets=workout.sets.map(function(workoutSet){return _objectSpread(_objectSpread(_objectSpread({},workoutSet),_this2.getWeights(workoutSet.exercise.maxWeight,workoutSet.exercise)),{},{reps:workoutSet.exercise.maxReps||0,weight:workoutSet.exercise.maxWeight||0,exercise:exercises.find(function(exercise){return exercise.name===workoutSet.exercise.name;})});});_this2.setState({workout:workout,exercises:exercises,isLoading:false});});var Util={};Util.base64=function(mimeType,base64){return\"data:\"+mimeType+\";base64,\"+base64;};this.video=document.createElement(\"video\");this.video.setAttribute(\"loop\",\"\");var source=document.createElement(\"source\");source.src=\"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\";source.type=\"video/webm\";this.video.appendChild(source);var source2=document.createElement(\"source\");source2.src=\"data:video/mp4;AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==\";source2.type=\"video/mp4\";this.video.appendChild(source2);}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:this.state.isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"Loading\",src:loadingImage}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"horizontalContainer\",children:[this.state.workout.sets.some(function(workoutSet){return workoutSet.isComplete;})?/*#__PURE__*/_jsx(\"div\",{className:\"headerButton\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",className:\"workoutAction\",onClick:this.saveActivity,children:/*#__PURE__*/_jsx(\"path\",{d:\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"})})}):\"\",/*#__PURE__*/_jsxs(\"h1\",{children:[\"Workout \",this.state.workout.name]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"setsContainer\",children:this.state.workout.sets.map(function(workoutSet,setIndex){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setHeader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setNameContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsx(\"select\",{value:workoutSet.exercise.name,onChange:_this3.changeExercise(setIndex),children:_this3.state.exercises.map(function(exercise,exerciseIndex){return/*#__PURE__*/_jsx(\"option\",{value:exercise.name,children:exercise.name},exerciseIndex);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"subHeader\",children:workoutSet.exercise.category})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setNumberContainer\",children:[/*#__PURE__*/_jsx(\"div\",{children:setIndex+1}),/*#__PURE__*/_jsx(\"div\",{children:_this3.state.workout.sets.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"setDataContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"horizontalContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dataButton\",onClick:function onClick(){return _this3.editReps(setIndex,workoutSet.reps-1);},children:\"-\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dataValue\",children:workoutSet.reps}),/*#__PURE__*/_jsx(\"div\",{className:\"dataButton\",onClick:function onClick(){return _this3.editReps(setIndex,workoutSet.reps+1);},children:\"+\"})]}),workoutSet.exercise.hasWeight?/*#__PURE__*/_jsxs(\"div\",{className:\"horizontalContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has2.5\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,2.5);},children:\"2.5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has5\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,5);},children:\"5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has10\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,10);},children:\"10\"}),/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has25\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,25);},children:\"25\"}),/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has35\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,35);},children:\"35\"}),/*#__PURE__*/_jsx(\"div\",{className:\"weightButton \".concat(workoutSet[\"has45\"]?\"active\":\"\"),onClick:function onClick(){return _this3.editWeight(setIndex,45);},children:\"45\"})]}):\"\",workoutSet.exercise.hasWeight?/*#__PURE__*/_jsx(\"div\",{className:\"horizontalContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subHeader\",children:[workoutSet.weight,\" lbs\"]})}):\"\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"graphContainer\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 350 200\",className:\"workoutGraph\",children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{spreadMethod:\"pad\",id:\"oneRepMaxGradient\",x1:\"0%\",y1:\"100%\",x2:\"0%\",y2:\"0%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",style:{stopColor:\"rgb(255, 255, 255)\",stopOpacity:1}}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",style:{stopColor:\"rgb(202 236 251)\",stopOpacity:1}})]})}),workoutSet.exercise.graph.oneRepMaxPath?/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"path\",{className:\"stroke\",d:workoutSet.exercise.graph.oneRepMaxPath}),/*#__PURE__*/_jsx(\"path\",{className:\"fill\",d:workoutSet.exercise.graph.oneRepMaxPathFill,fill:\"url(#oneRepMaxGradient)\"})]}):\"\",/*#__PURE__*/_jsx(\"g\",{children:workoutSet.exercise.graph.weightBars.map(function(path,barIndex){return/*#__PURE__*/_jsx(\"path\",{className:\"weightBar\",d:path},barIndex);})}),/*#__PURE__*/_jsx(\"g\",{children:workoutSet.exercise.graph.repBars.map(function(path,barIndex){return/*#__PURE__*/_jsx(\"path\",{className:\"repBar\",d:path},barIndex);})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"actionContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"setActionButton\",onClick:function onClick(){return _this3.completeSet(setIndex);},children:workoutSet.isComplete?/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"})}):/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"})})}),workoutSet.isComplete||workoutSet.isRest?/*#__PURE__*/_jsx(\"div\",{className:\"setComplete\",children:workoutSet.isRest&&_this3.state.countDown.sec>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:(_this3.state.countDown.min<10?\"0\":\"\")+_this3.state.countDown.min}),/*#__PURE__*/_jsx(\"div\",{children:(_this3.state.countDown.sec<10?\"0\":\"\")+_this3.state.countDown.sec})]}):workoutSet.isComplete&&!workoutSet.isRest?/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"})}):\"\"}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"setActionButton\",onClick:function onClick(){return _this3.deleteSet(setIndex);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"addButton\",children:/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return _this3.addSet(setIndex);},children:\"+\"})})]},setIndex);})})]})});}}]);return WorkoutActivity;}(React.Component);export default WorkoutActivity;","map":{"version":3,"sources":["/home/bvanbeynum/workout/client/src/components/WorkoutActivity.jsx"],"names":["React","loadingImage","countdownURL","readyURL","WorkoutActivity","props","countdownAudio","Audio","readyAudio","video","completeSet","setIndex","state","restInterval","clearInterval","setState","workout","sets","map","workoutSet","mapIndex","isComplete","isRest","countDown","min","length","Math","floor","rest","sec","canPlayReady","canPlayCountdown","setInterval","updateTime","play","deleteSet","slice","addSet","exercise","exercises","newSet","reps","maxReps","weight","maxWeight","getWeights","changeExercise","event","find","name","target","value","saveActivity","activity","workoutId","id","runDate","Date","filter","category","fetch","method","headers","credentials","body","JSON","stringify","then","response","json","data","activityComplete","catch","error","console","warn","toast","editReps","newReps","editWeight","newTotal","totalWeight","weights","hasBar","has45","has25","has10","has5","pause","log","isLoading","graphDates","Set","activities","runDateOnly","days","date","dateIndex","getMonth","getDate","oneRepMax","sort","activityA","activityB","setWeights","setReps","graphSize","width","height","barY","weightHeight","repHeight","dayWidth","barWidth","minValue","maxValue","max","minGraph","maxGraph","valueHeight","oneRepMaxPath","day","dayIndex","pointX","pointY","path","join","bars","flatMap","weightBars","weightIndex","xLeft","barX","barHeight","repBars","rep","repIndex","hasWeight","graph","oneRepMaxPathFill","Util","base64","mimeType","document","createElement","setAttribute","source","src","type","appendChild","source2","some","display","exerciseIndex","stopColor","stopOpacity","barIndex","Component"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\n/* global fetch */\n\nimport React from \"react\";\nimport \"./workoutactivity.css\";\nimport loadingImage from \"../media/loading.gif\";\nimport countdownURL from \"../media/countdown.mp3\";\nimport readyURL from \"../media/getready.mp3\";\n\nclass WorkoutActivity extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tcountDown: { min: 0, sec: 0 },\n\t\t\tworkout: { id: this.props.workoutId }\n\t\t};\n\t\n\t}\n\t\n\tcountdownAudio = new Audio(countdownURL);\n\treadyAudio = new Audio(readyURL);\n\tvideo = {};\n\t\n\tcomponentDidMount() {\n\t\t\n\t\tfetch(\"http://workout.beynum.com/workout/api/activityload?id=\" + this.state.workout.id, { credentials: \"include\" })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst workout = data.workout;\n\t\t\t\t\n\t\t\t\tlet exercises = data.exercises.map(exercise => {\n\t\t\t\t\tconst graphDates = [...new Set(exercise.activities.map(activity => +(new Date(activity.runDateOnly))))];\n\t\t\t\t\t\n\t\t\t\t\tconst days = graphDates.map((date, dateIndex) => ({\n\t\t\t\t\t\tdate: ((new Date(date)).getMonth() + 1) + \"/\" + (new Date(date)).getDate(),\n\t\t\t\t\t\toneRepMax: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.oneRepMax)\n\t\t\t\t\t\t\t.sort((activityA, activityB) => activityB - activityA)[0],\n\t\t\t\t\t\tsetWeights: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.weight),\n\t\t\t\t\t\tsetReps: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.reps)\n\t\t\t\t\t}));\n\t\t\t\t\t\n\t\t\t\t\tconst graphSize = { width: 350, height: 200, barY: 150, weightHeight: 45, repHeight: 100 },\n\t\t\t\t\t\tdayWidth = graphSize.width / graphDates.length,\n\t\t\t\t\t\tbarWidth = 5;\n\t\t\t\t\t\n\t\t\t\t\tconst oneRepMax = {};\n\t\t\t\t\toneRepMax.minValue = Math.min(...days.map(date => date.oneRepMax));\n\t\t\t\t\toneRepMax.maxValue = Math.max(...days.map(date => date.oneRepMax));\n\t\t\t\t\toneRepMax.minGraph = oneRepMax.minValue - (oneRepMax.minValue * .2);\n\t\t\t\t\toneRepMax.maxGraph = oneRepMax.maxValue + (oneRepMax.maxValue * .05);\n\t\t\t\t\toneRepMax.valueHeight = oneRepMax.maxGraph - oneRepMax.minGraph;\n\t\t\t\t\t\n\t\t\t\t\tconst oneRepMaxPath = days.map((day, dayIndex) => {\n\t\t\t\t\t\tconst pointX = (dayWidth * dayIndex),\n\t\t\t\t\t\t\tpointY = ((oneRepMax.maxGraph - day.oneRepMax) * graphSize.height) / oneRepMax.valueHeight;\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet path = \"\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (dayIndex === 0) {\n\t\t\t\t\t\t\tpath = \"M0,\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (dayIndex === days.length - 1) {\n\t\t\t\t\t\t\tpath = \"L\" + graphSize.width + \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tpath = \"L\" + (pointX + (dayWidth / 2)) + \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tpath += pointY;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn path;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}).join(\" \");\n\t\t\t\t\t\n\t\t\t\t\tconst bars = {};\n\t\t\t\t\t\n\t\t\t\t\tbars.weight = {};\n\t\t\t\t\tbars.weight.minValue = Math.min(...days.flatMap(day => day.setWeights));\n\t\t\t\t\tbars.weight.maxValue = Math.max(...days.flatMap(day => day.setWeights));\n\t\t\t\t\tbars.weight.valueHeight = bars.weight.maxValue - bars.weight.minValue;\n\t\t\t\t\t\n\t\t\t\t\tconst weightBars = days.map((day, dayIndex) => ({\n\t\t\t\t\t\tweights: day.setWeights.map((weight, weightIndex) => {\n\t\t\t\t\t\t\tconst xLeft = ((dayWidth * dayIndex) + (dayWidth / 2)) - (barWidth * 3),\n\t\t\t\t\t\t\t\tbarX = xLeft + (barWidth * weightIndex),\n\t\t\t\t\t\t\t\tbarHeight = (weight * graphSize.weightHeight) / bars.weight.maxValue;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn \"M\" + barX + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight) + \n\t\t\t\t\t\t\t\t\" C\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight);\n\t\t\t\t\t\t})\n\t\t\t\t\t})).flatMap(day => day.weights);\n\t\t\t\t\t\n\t\t\t\t\tbars.reps = {};\n\t\t\t\t\tbars.reps.minValue = Math.min(...days.flatMap(day => day.setReps));\n\t\t\t\t\tbars.reps.maxValue = Math.max(...days.flatMap(day => day.setReps));\n\t\t\t\t\tbars.reps.valueHeight = bars.reps.maxValue - bars.reps.minValue;\n\t\t\t\t\t\n\t\t\t\t\tconst repBars = days.map((day, dayIndex) => ({\n\t\t\t\t\t\treps: day.setReps.map((rep, repIndex) => {\n\t\t\t\t\t\t\tconst xLeft = ((dayWidth * dayIndex) + (dayWidth / 2)) - (barWidth * 3),\n\t\t\t\t\t\t\t\tbarX = xLeft + (barWidth * repIndex),\n\t\t\t\t\t\t\t\tbarHeight = (rep * graphSize.repHeight) / bars.reps.maxValue;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn \"M\" + barX + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t(exercise.hasWeight ?\n\t\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + graphSize.barY\n\t\t\t\t\t\t\t\t\t: \" C\" + barX + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + graphSize.barY\n\t\t\t\t\t\t\t\t\t)+ \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight) + \n\t\t\t\t\t\t\t\t\" C\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY -barHeight);\n\t\t\t\t\t\t})\n\t\t\t\t\t})).flatMap(day => day.reps);\n\t\t\t\t\t\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...exercise,\n\t\t\t\t\t\tgraph: {\n\t\t\t\t\t\t\tdays: days,\n\t\t\t\t\t\t\tweightBars: exercise.hasWeight ? weightBars : [],\n\t\t\t\t\t\t\trepBars: repBars,\n\t\t\t\t\t\t\toneRepMaxPath: exercise.hasWeight ? oneRepMaxPath : \"\",\n\t\t\t\t\t\t\toneRepMaxPathFill: exercise.hasWeight ? oneRepMaxPath + \" L\" + graphSize.width + \",\" + graphSize.height + \" L0,\" + graphSize.height : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tworkout.sets = workout.sets.map(workoutSet => ({\n\t\t\t\t\t...workoutSet,\n\t\t\t\t\t...this.getWeights(workoutSet.exercise.maxWeight, workoutSet.exercise),\n\t\t\t\t\treps: workoutSet.exercise.maxReps || 0,\n\t\t\t\t\tweight: workoutSet.exercise.maxWeight || 0,\n\t\t\t\t\texercise: exercises.find(exercise => exercise.name === workoutSet.exercise.name)\n\t\t\t\t}));\n\t\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tworkout: workout,\n\t\t\t\t\texercises: exercises,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t});\n\t\t\n\t\tlet Util={};\n\t\tUtil.base64 = function(mimeType, base64) {\n\t\t\treturn \"data:\" + mimeType + \";base64,\" + base64;\n\t\t};\n\t\t\n\t\tthis.video = document.createElement(\"video\");\n\t\tthis.video.setAttribute(\"loop\", \"\");\n\t\t\n\t\tlet source = document.createElement(\"source\");\n\t\tsource.src = \"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\";\n\t\tsource.type = \"video/webm\";\n\t\tthis.video.appendChild(source);\n\t\t\n\t\tlet source2 = document.createElement(\"source\");\n\t\tsource2.src = \"data:video/mp4;AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==\";\n\t\tsource2.type = \"video/mp4\";\n\t\tthis.video.appendChild(source2);\n\t\t\n\t}\n\t\n\tcompleteSet = setIndex => {\n\t\t\n\t\tif (this.state.restInterval) {\n\t\t\tclearInterval(this.state.restInterval);\n\t\t}\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: workout.sets.map((workoutSet, mapIndex) => ({\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\tisComplete: mapIndex === setIndex ? true : workoutSet.isComplete,\n\t\t\t\t\t\tisRest: mapIndex === setIndex ? true : false,\n\t\t\t\t\t}))\n\t\t\t\t},\n\t\t\tcountDown: { \n\t\t\t\tmin: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest / 60) : 0,\n\t\t\t\tsec: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest % 60) : 0,\n\t\t\t\tcanPlayReady: true,\n\t\t\t\tcanPlayCountdown: true\n\t\t\t}\n\t\t}),\n\t\t() => {\n\t\t\tlet restInterval = setInterval(this.updateTime, 1000);\n\t\t\tthis.setState({ restInterval: restInterval });\n\t\t\tthis.video.play();\n\t\t});\n\t}\n\t\n\tdeleteSet = setIndex => {\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\taddSet = setIndex => {\n\t\tconst exercise = this.state.exercises[0],\n\t\t\tnewSet = {\n\t\t\t\texercise: exercise,\n\t\t\t\treps: exercise.maxReps || 0,\n\t\t\t\tweight: exercise.maxWeight || 0,\n\t\t\t\t...this.getWeights(exercise.maxWeight || 0, exercise),\n\t\t\t};\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex + 1),\n\t\t\t\t\tnewSet,\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t\t\n\t}\n\t\n\tchangeExercise = setIndex => event => {\n\t\tconst exercise = this.state.exercises.find(exercise => exercise.name === event.target.value);\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\treps: exercise.maxReps || 0,\n\t\t\t\t\t\tweight: exercise.maxWeight || 0,\n\t\t\t\t\t\texercise: exercise\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\tsaveActivity = () => {\n\t\tconst activity = {\n\t\t\tworkoutId: this.state.workout.id,\n\t\t\trunDate: new Date(),\n\t\t\tsets: this.state.workout.sets\n\t\t\t\t.filter(workoutSet => workoutSet.isComplete)\n\t\t\t\t.map(workoutSet => ({\n\t\t\t\t\texercise: {\n\t\t\t\t\t\tid: workoutSet.exercise.id,\n\t\t\t\t\t\tname: workoutSet.exercise.name,\n\t\t\t\t\t\tcategory: workoutSet.exercise.category\n\t\t\t\t\t},\n\t\t\t\t\treps: workoutSet.reps,\n\t\t\t\t\tweight: workoutSet.weight\n\t\t\t\t}))\n\t\t};\n\t\t\n\t\tfetch(\"http://workout.beynum.com/workout/api/activitysave\", { method: \"post\", headers: {\"Content-Type\": \"application/json\"}, credentials: \"include\", body: JSON.stringify({ activity: activity }) })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.props.activityComplete();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.warn(error);\n\t\t\t\tthis.props.toast(\"Error updating workout\", true);\n\t\t\t});\n\t}\n\t\n\teditReps = (setIndex, newReps) => {\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\treps: newReps\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\teditWeight = (setIndex, weight) => {\n\t\tconst newTotal = this.state.workout.sets[setIndex].weight + (this.state.workout.sets[setIndex][\"has\" + weight] ? (weight * 2) * -1 : weight * 2);\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\t...this.getWeights(newTotal, workout.sets[setIndex].exercise),\n\t\t\t\t\t\tweight: newTotal\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\tgetWeights = (totalWeight, exercise) => {\n\t\tlet weights = {};\n\t\t\n\t\ttotalWeight -= exercise.hasBar ? 45 : 0;\n\t\t\n\t\tweights.has45 = totalWeight >= 45 * 2;\n\t\ttotalWeight -= totalWeight >= 45 * 2 ? 45 * 2 : 0;\n\t\t\n\t\tweights.has25 = totalWeight >= 25 * 2;\n\t\ttotalWeight -= totalWeight >= 25 * 2 ? 25 * 2 : 0;\n\t\t\n\t\tweights.has10 = totalWeight >= 10 * 2;\n\t\ttotalWeight -= totalWeight >= 10 * 2 ? 10 * 2 : 0;\n\t\t\n\t\tweights.has5 = totalWeight >= 5 * 2;\n\t\ttotalWeight -= totalWeight >= 5 * 2 ? 5 * 2 : 0;\n\t\t\n\t\tweights[\"has2.5\"] = totalWeight >= 2.5 * 2;\n\t\ttotalWeight -= totalWeight >= 2.5 * 2 ? 2.5 * 2 : 0;\n\t\t\n\t\treturn weights;\n\t}\n\t\n\tupdateTime = () => {\n\t\tlet sec = this.state.countDown.sec,\n\t\t\tmin = this.state.countDown.min;\n\t\t\t\n\t\tif (sec > 0) {\n\t\t\tsec--;\n\t\t}\n\t\telse if (min > 0) {\n\t\t\tmin--;\n\t\t\tsec = 59;\n\t\t}\n\t\t\n\t\tif (sec <= 0 && min <= 0) {\n\t\t\t// complete\n\t\t\tif (this.state.restInterval) {\n\t\t\t\tclearInterval(this.state.restInterval);\n\t\t\t}\n\t\t\t\n\t\t\tthis.setState(({workout}) => ({\n\t\t\t\tworkout: {\n\t\t\t\t\t...workout,\n\t\t\t\t\tsets: workout.sets.map(workoutSet => ({\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\tisRest: false\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}));\n\t\t\t\n\t\t\tthis.video.pause();\n\t\t}\n\t\telse if (this.state.countDown.canPlayReady && min <= 0 && sec <= 30 && sec > 28) {\n\t\t\tconsole.log(\"ready\");\n\t\t\t// Play get ready\n\t\t\tthis.readyAudio.play();\n\t\t\tthis.setState(({countDown}) => ({ \n\t\t\t\tcountDown: {\n\t\t\t\t\t...countDown,\n\t\t\t\t\tcanPlayReady: false\n\t\t\t\t} \n\t\t\t}));\n\t\t}\n\t\telse if (this.state.countDown.canPlayCountdown && min <= 0 && sec <= 3) {\n\t\t\tconsole.log(\"countdown\");\n\t\t\t// PlayCountdown\n\t\t\tthis.countdownAudio.play();\n\t\t\tthis.setState(({countDown}) => ({ \n\t\t\t\tcountDown: {\n\t\t\t\t\t...countDown,\n\t\t\t\t\tcanPlayCountdown: false\n\t\t\t\t} \n\t\t\t}));\n\t\t}\n\t\t\n\t\tthis.setState(({countDown}) => ({\n\t\t\tcountDown: { \n\t\t\t\t...countDown,\n\t\t\t\tmin: min, \n\t\t\t\tsec: sec \n\t\t\t}\n\t\t}));\n\t\t\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"page\">\n\t\t\t{\n\t\t\tthis.state.isLoading ?\n\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t<img alt=\"Loading\" src={loadingImage} />\n\t\t\t\t\t<div>Loading...</div>\n\t\t\t\t</div>\n\t\t\t:\n\t\t\t\t<div className=\"pageContainer\">\n\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.workout.sets.some(workoutSet => workoutSet.isComplete) ?\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"headerButton\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" className=\"workoutAction\" onClick={ this.saveActivity }>\n\t\t\t\t\t\t\t\t<path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<h1>Workout { this.state.workout.name }</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"setsContainer\">\t\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.workout.sets.map((workoutSet, setIndex) => (\n\t\t\t\t\t\t<div key={setIndex} style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<div className=\"setContainer\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setHeader\">\n\t\t\t\t\t\t\t\t\t<div className=\"setNameContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t\t\t\t\t\t<select value={ workoutSet.exercise.name } onChange={ this.changeExercise(setIndex) }>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.exercises.map((exercise, exerciseIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={exerciseIndex} value={exercise.name}>{exercise.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.exercise.category }</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div className=\"setNumberContainer\">\n\t\t\t\t\t\t\t\t\t\t<div>{ setIndex + 1 }</div>\n\t\t\t\t\t\t\t\t\t\t<div>{ this.state.workout.sets.length }</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setDataContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataButton\" onClick={ () => this.editReps(setIndex, workoutSet.reps - 1) }>-</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataValue\">{ workoutSet.reps }</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataButton\" onClick={ () => this.editReps(setIndex, workoutSet.reps + 1) }>+</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ? \n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has2.5\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 2.5) }>2.5</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has5\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 5) }>5</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has10\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 10) }>10</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has25\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 25) }>25</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has35\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 35) }>35</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has45\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 45) }>45</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ?\n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.weight } lbs</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"graphContainer\">\n\t\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 350 200\" className=\"workoutGraph\">\n\t\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t\t<linearGradient spreadMethod=\"pad\" id=\"oneRepMaxGradient\" x1=\"0%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<stop offset=\"0%\" style={{stopColor: \"rgb(255, 255, 255)\", stopOpacity: 1}} />\n\t\t\t\t\t\t\t\t\t\t\t\t<stop offset=\"100%\" style={{stopColor: \"rgb(202 236 251)\", stopOpacity: 1}} />\n\t\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.oneRepMaxPath ?\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t<path className=\"stroke\" d={ workoutSet.exercise.graph.oneRepMaxPath } />\n\t\t\t\t\t\t\t\t\t\t\t<path className=\"fill\" d={ workoutSet.exercise.graph.oneRepMaxPathFill } fill=\"url(#oneRepMaxGradient)\" />\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.weightBars.map((path, barIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t<path key={ barIndex } className=\"weightBar\" d={ path } />\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.repBars.map((path, barIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t<path key={ barIndex } className=\"repBar\" d={ path } />\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"actionContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"setActionButton\" onClick={ () => this.completeSet(setIndex) }>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.isComplete ?\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.isComplete || workoutSet.isRest ?\n\t\t\t\t\t\t\t\t\t<div className=\"setComplete\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.isRest && this.state.countDown.sec > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{ (this.state.countDown.min < 10 ? \"0\" : \"\") + this.state.countDown.min }</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{ (this.state.countDown.sec < 10 ? \"0\" : \"\") + this.state.countDown.sec }</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tworkoutSet.isComplete && !workoutSet.isRest ?\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div className=\"setActionButton\" onClick={ () => this.deleteSet(setIndex) }>\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"addButton\">\n\t\t\t\t\t\t\t\t<div onClick={ () => this.addSet(setIndex) }>+</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WorkoutActivity;\n"]},"metadata":{},"sourceType":"module"}