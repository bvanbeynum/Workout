{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/bvanbeynum/workout/client/src/components/Home.jsx\";\n// eslint-disable-next-line\n\n/* global fetch */\nimport React from \"react\";\nimport \"./home.css\";\nimport loadingImage from \"../media/loading.gif\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.viewWorkout = workoutIndex => event => {\n      this.setState(({\n        workouts\n      }) => ({\n        workouts: workouts.map((workout, index) => ({ ...workout,\n          isVisible: index === workoutIndex ? !workout.isVisible : false\n        }))\n      }));\n    };\n\n    this.state = {\n      workouts: [],\n      palette: [{\n        highlight: \"rgb(7 169 241)\",\n        background: \"rgb(202 236 251)\"\n      }, {\n        highlight: \"rgb(204 110 226)\",\n        background: \"rgb(236 214 243)\"\n      }, {\n        highlight: \"rgb(30 192 194)\",\n        background: \"rgb(206 240 240)\"\n      }, {\n        highlight: \"rgb(238 69 105)\",\n        background: \"rgb(251 216 223)\"\n      }],\n      user: props.user,\n      isLoading: true\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://workout.beynum.com/workout/api/homeload\", {\n      credentials: \"include\"\n    }).then(response => response.json()).then(data => {\n      const weeks = new Array(4).fill({}).map((item, index) => {\n        let week = new Date();\n        week.setHours(0, 0, 0, 0);\n        week.setDate(week.getDate() - week.getDay() - index * 7);\n        return week;\n      }).sort((weekA, weekB) => weekB - weekA);\n      let workouts = data.workouts.map((workout, workoutIndex) => ({ ...workout,\n        color: this.state.palette[workoutIndex % this.state.palette.length],\n        isVisible: false,\n        lastRun: workout.activities.map(activity => new Date(activity)).sort((activityA, activityB) => activityB - activityA)[0] || null,\n        activityWeeks: weeks.map((week, weekIndex, weekArray) => ({\n          week: week.getMonth() + 1 + \"/\" + week.getDate(),\n          days: Array(7).fill({}).map((day, dayIndex) => {\n            const today = new Date();\n            today.setHours(0, 0, 0, 0);\n            day = new Date(week);\n            day.setDate(day.getDate() + dayIndex);\n            return {\n              day: day,\n              isToday: +day === +today,\n              didWorkout: workout.activities.some(activity => {\n                const activityDate = new Date(activity);\n                activityDate.setHours(0, 0, 0, 0);\n                return +activityDate === +day;\n              })\n            };\n          })\n        }))\n      })).sort((workoutA, workoutB) => workoutB.lastRun - workoutA.lastRun);\n      workouts = workouts.map(workout => ({ ...workout,\n        lastRunDisplay: workout.lastRun ? Math.ceil((new Date() - workout.lastRun) / (1000 * 60 * 60 * 24)) + \" day(s) ago\" : \"N/A\"\n      }));\n      this.setState({\n        isLoading: false,\n        workouts: workouts\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome \", this.state.user.firstName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this), this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Loading\",\n          src: loadingImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workoutsContainer\",\n        children: this.state.workouts.map((workout, workoutIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workoutContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"itemBar\",\n              style: {\n                backgroundColor: workout.color.highlight\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dataContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workoutHeader\",\n                children: workout.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workoutSubHeader\",\n                children: [\"Sets: \", workout.setCount, \" \\u2022 Last: \", workout.lastRunDisplay]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"actionButton\",\n              onClick: this.viewWorkout(workoutIndex),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 24 24\",\n                width: \"24px\",\n                height: \"24px\",\n                style: {\n                  fill: workout.color.highlight\n                },\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"actionButton\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                viewBox: \"0 0 24 24\",\n                width: \"24px\",\n                height: \"24px\",\n                style: {\n                  fill: workout.color.highlight\n                },\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M8 5v14l11-7z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `detailContainer ${workout.isVisible ? \"active\" : \"\"}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"exerciseTable\",\n              style: {\n                color: workout.color.highlight,\n                backgroundColor: workout.color.background\n              },\n              children: workout.exercises.map((exercise, exerciseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [exerciseIndex + 1, \". \", exercise]\n              }, exerciseIndex, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 10\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"scheduleTable\",\n              children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"S\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"M\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"T\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"W\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"T\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 10\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"S\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 10\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 9\n                }, this), workout.activityWeeks.map((week, weekIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: week.week\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 11\n                  }, this), week.days.map((day, dayIndex) => /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      color: workout.color.highlight\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `${day.isToday ? \"today\" : \"\"}`,\n                      style: {\n                        backgroundColor: day.isToday ? workout.color.highlight : null\n                      },\n                      children: day.didWorkout ? \"•\" : \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 13\n                    }, this)\n                  }, dayIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 12\n                  }, this))]\n                }, weekIndex, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 10\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 8\n          }, this)]\n        }, workoutIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/bvanbeynum/workout/client/src/components/Home.jsx"],"names":["React","loadingImage","Home","Component","constructor","props","viewWorkout","workoutIndex","event","setState","workouts","map","workout","index","isVisible","state","palette","highlight","background","user","isLoading","componentDidMount","fetch","credentials","then","response","json","data","weeks","Array","fill","item","week","Date","setHours","setDate","getDate","getDay","sort","weekA","weekB","color","length","lastRun","activities","activity","activityA","activityB","activityWeeks","weekIndex","weekArray","getMonth","days","day","dayIndex","today","isToday","didWorkout","some","activityDate","workoutA","workoutB","lastRunDisplay","Math","ceil","render","firstName","backgroundColor","name","setCount","exercises","exercise","exerciseIndex"],"mappings":"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","sourcesContent":["// eslint-disable-next-line\n/* global fetch */\n\nimport React from \"react\";\nimport \"./home.css\";\nimport loadingImage from \"../media/loading.gif\";\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tworkouts: [],\n\t\t\tpalette: [\n\t\t\t{\n\t\t\t\thighlight: \"rgb(7 169 241)\",\n\t\t\t\tbackground: \"rgb(202 236 251)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\thighlight: \"rgb(204 110 226)\",\n\t\t\t\tbackground: \"rgb(236 214 243)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\thighlight: \"rgb(30 192 194)\",\n\t\t\t\tbackground: \"rgb(206 240 240)\"\n\t\t\t},\n\t\t\t{\n\t\t\t\thighlight: \"rgb(238 69 105)\",\n\t\t\t\tbackground: \"rgb(251 216 223)\"\n\t\t\t}],\n\t\t\tuser: props.user,\n\t\t\tisLoading: true\n\t\t};\n\t}\n\t\n\tcomponentDidMount() {\n\t\tfetch(\"http://workout.beynum.com/workout/api/homeload\", { credentials: \"include\" })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\t\n\t\t\t\tconst weeks = (new Array(4))\n\t\t\t\t\t.fill({ })\n\t\t\t\t\t.map((item, index) => {\n\t\t\t\t\t\tlet week = new Date();\n\t\t\t\t\t\tweek.setHours(0,0,0,0);\n\t\t\t\t\t\tweek.setDate(week.getDate() - week.getDay() - (index * 7));\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn week;\n\t\t\t\t\t})\n\t\t\t\t\t.sort((weekA, weekB) => weekB - weekA);\n\t\t\t\t\n\t\t\t\tlet workouts = data.workouts\n\t\t\t\t\t.map((workout, workoutIndex) => ({\n\t\t\t\t\t\t...workout,\n\t\t\t\t\t\tcolor: this.state.palette[workoutIndex % this.state.palette.length],\n\t\t\t\t\t\tisVisible: false,\n\t\t\t\t\t\tlastRun: workout.activities.map(activity => new Date(activity)).sort((activityA,activityB) => activityB - activityA)[0] || null,\n\t\t\t\t\t\tactivityWeeks: weeks.map((week, weekIndex, weekArray) => ({\n\t\t\t\t\t\t\tweek: (week.getMonth() + 1) + \"/\" + week.getDate(),\n\t\t\t\t\t\t\tdays: Array(7).fill({ }).map((day, dayIndex) => {\n\t\t\t\t\t\t\t\tconst today = new Date();\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\ttoday.setHours(0,0,0,0);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tday = new Date(week);\n\t\t\t\t\t\t\t\tday.setDate(day.getDate() + dayIndex);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tday: day,\n\t\t\t\t\t\t\t\t\tisToday: +day === +today,\n\t\t\t\t\t\t\t\t\tdidWorkout: workout.activities.some(activity => {\n\t\t\t\t\t\t\t\t\t\t\tconst activityDate = new Date(activity);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tactivityDate.setHours(0,0,0,0);\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\treturn +activityDate === +day;\n\t\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}))\n\t\t\t\t\t.sort((workoutA, workoutB) => workoutB.lastRun - workoutA.lastRun);\n\t\t\t\t\n\t\t\t\tworkouts = workouts.map(workout => ({\n\t\t\t\t\t...workout,\n\t\t\t\t\tlastRunDisplay: workout.lastRun ? Math.ceil(((new Date()) - workout.lastRun) / (1000 * 60 * 60 * 24)) + \" day(s) ago\" : \"N/A\"\n\t\t\t\t}));\n\t\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tworkouts: workouts\n\t\t\t\t});\n\t\t\t\t\n\t\t\t});\n\t}\n\t\n\tviewWorkout = workoutIndex => event => {\n\t\t\n\t\tthis.setState(({workouts}) => ({\n\t\t\tworkouts: workouts.map((workout, index) => ({ ...workout, isVisible: index === workoutIndex ? !workout.isVisible : false }))\n\t\t}));\n\t\t\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"page\">\n\t\t\t\t<h1>Welcome { this.state.user.firstName }</h1>\n\t\t\t\t\n\t\t\t\t{\n\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t\t<img alt=\"Loading\" src={loadingImage} />\n\t\t\t\t\t\t<div>Loading...</div>\n\t\t\t\t\t</div>\n\t\t\t\t:\n\t\t\t\t\t<div className=\"workoutsContainer\">\n\t\t\t\t\t\t\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.workouts.map((workout, workoutIndex) => (\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div key={workoutIndex} className=\"workoutContainer\">\n\t\t\t\t\t\t\t<div className=\"headerContainer\">\n\t\t\t\t\t\t\t\t<div className=\"itemBar\" style={{ backgroundColor: workout.color.highlight }}></div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"dataContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"workoutHeader\">{ workout.name }</div>\n\t\t\t\t\t\t\t\t\t<div className=\"workoutSubHeader\">\n\t\t\t\t\t\t\t\t\t\tSets: { workout.setCount } • Last: { workout.lastRunDisplay }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"actionButton\" onClick={ this.viewWorkout(workoutIndex) }>\n\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" style={{ fill: workout.color.highlight }}>\n\t\t\t\t\t\t\t\t\t\t<path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"actionButton\">\n\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" style={{ fill: workout.color.highlight }}>\n\t\t\t\t\t\t\t\t\t\t<path d=\"M8 5v14l11-7z\"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className={`detailContainer ${ workout.isVisible ? \"active\" : \"\" }`}>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"exerciseTable\" style={{ color: workout.color.highlight, backgroundColor: workout.color.background }}>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tworkout.exercises.map((exercise, exerciseIndex) => (\n\t\t\t\t\t\t\t\t\t<div key={ exerciseIndex }>{ exerciseIndex + 1 }. { exercise }</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<table className=\"scheduleTable\">\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t<th>S</th>\n\t\t\t\t\t\t\t\t\t<th>M</th>\n\t\t\t\t\t\t\t\t\t<th>T</th>\n\t\t\t\t\t\t\t\t\t<th>W</th>\n\t\t\t\t\t\t\t\t\t<th>T</th>\n\t\t\t\t\t\t\t\t\t<th>F</th>\n\t\t\t\t\t\t\t\t\t<th>S</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tworkout.activityWeeks.map((week, weekIndex) => (\n\t\t\t\t\t\t\t\t\t<tr key={ weekIndex }>\n\t\t\t\t\t\t\t\t\t\t<td>{ week.week }</td>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tweek.days.map((day, dayIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t<td key={dayIndex} style={{ color: workout.color.highlight }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={`${ day.isToday ? \"today\" : \"\" }`} style={{ backgroundColor: day.isToday ? workout.color.highlight : null }}>{ day.didWorkout ? \"•\" : \"\" }</div>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}