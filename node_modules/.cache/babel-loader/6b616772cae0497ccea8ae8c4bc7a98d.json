{"ast":null,"code":"import _classCallCheck from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/bvanbeynum/workout/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// eslint-disable-next-line\n/* global fetch */import React from\"react\";import Login from\"./components/Login\";import Nav from\"./components/Nav\";import Home from\"./components/Home\";import Workout from\"./components/Workout\";import Schedule from\"./components/Schedule\";import WorkoutActivity from\"./components/WorkoutActivity\";import Activity from\"./components/Activity\";import Toast from\"./components/Toast\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.showToast=function(message,isError){_this.setState({toast:{text:message,isActive:true,type:isError?\"error\":\"info\"}});setTimeout(function(){_this.setState({toast:{text:\"\",isActive:false,type:\"info\"}});},4000);};_this.changePage=function(page){if(_this.state.isLoggedIn){switch(page){case\"home\":_this.setState({page:/*#__PURE__*/_jsx(Home,{startWorkout:_this.startWorkout,toast:_this.showToast,user:_this.state.user})});break;case\"workout\":_this.setState({page:/*#__PURE__*/_jsx(Workout,{startActivity:_this.startActivity,toast:_this.showToast})});break;case\"workoutactivity\":_this.setState({page:/*#__PURE__*/_jsx(WorkoutActivity,{workoutId:_this.state.currentWorkout,activityComplete:_this.activityComplete,toast:_this.showToast})});break;case\"activity\":_this.setState({page:/*#__PURE__*/_jsx(Activity,{workoutId:_this.state.currentWorkout,activityComplete:_this.activityComplete,toast:_this.showToast})});break;case\"schedule\":_this.setState({page:/*#__PURE__*/_jsx(Schedule,{toast:_this.showToast})});break;default:break;}}};_this.startActivity=function(workoutId){_this.setState(function(){return{currentWorkout:workoutId};},function(){_this.changePage(\"activity\");});};_this.startWorkout=function(workoutId){_this.setState({currentWorkout:workoutId},function(){_this.changePage(\"workoutactivity\");});};_this.activityComplete=function(){_this.setState(function(){return{currentWorkout:null};},function(){_this.changePage(\"home\");});};_this.state={isLoading:true,isLoggedIn:false,currentWorkout:null,toast:{text:\"\",isActive:false,type:\"info\"}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://workout.beynum.com/workout/api/appload\",{credentials:\"include\"}).then(function(response){return response.json();}).then(function(data){_this2.setState({isLoggedIn:data.loggedIn,user:data.user,page:data.loggedIn?/*#__PURE__*/_jsx(Home,{startWorkout:_this2.startWorkout,toast:_this2.showToast,user:data.user}):/*#__PURE__*/_jsx(Login,{toast:_this2.showToast}),isLoading:false});});}},{key:\"componentDidCatch\",value:function componentDidCatch(error,info){fetch(\"http://workout.beynum.com/workout/api/errorsave\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({error:{error:error,info:info}})});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[this.state.isLoading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading\"}):this.state.page,this.state.isLoggedIn?/*#__PURE__*/_jsx(Nav,{changePage:this.changePage}):null,/*#__PURE__*/_jsx(Toast,{message:this.state.toast})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/bvanbeynum/workout/client/src/App.js"],"names":["React","Login","Nav","Home","Workout","Schedule","WorkoutActivity","Activity","Toast","App","props","showToast","message","isError","setState","toast","text","isActive","type","setTimeout","changePage","page","state","isLoggedIn","startWorkout","user","startActivity","currentWorkout","activityComplete","workoutId","isLoading","fetch","credentials","then","response","json","data","loggedIn","error","info","method","headers","body","JSON","stringify","Component"],"mappings":"gqBAAA;AACA,kBAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,C,GAEMC,CAAAA,G,sGACL,aAAYC,KAAZ,CAAmB,qCAClB,uBAAMA,KAAN,EADkB,MAenBC,SAfmB,CAeP,SAACC,OAAD,CAAUC,OAAV,CAAsB,CACjC,MAAKC,QAAL,CAAc,CACbC,KAAK,CAAE,CACNC,IAAI,CAAEJ,OADA,CAENK,QAAQ,CAAE,IAFJ,CAGNC,IAAI,CAAEL,OAAO,CAAG,OAAH,CAAa,MAHpB,CADM,CAAd,EAQAM,UAAU,CAAC,UAAM,CAChB,MAAKL,QAAL,CAAc,CACbC,KAAK,CAAE,CACNC,IAAI,CAAE,EADA,CAENC,QAAQ,CAAE,KAFJ,CAGNC,IAAI,CAAE,MAHA,CADM,CAAd,EAOA,CARS,CAQP,IARO,CAAV,CASA,CAjCkB,OAsDnBE,UAtDmB,CAsDN,SAACC,IAAD,CAAU,CACtB,GAAI,MAAKC,KAAL,CAAWC,UAAf,CAA2B,CAC1B,OAAQF,IAAR,EACC,IAAK,MAAL,CACC,MAAKP,QAAL,CAAc,CAAEO,IAAI,cAAE,KAAC,IAAD,EAAM,YAAY,CAAE,MAAKG,YAAzB,CAAuC,KAAK,CAAE,MAAKb,SAAnD,CAA8D,IAAI,CAAG,MAAKW,KAAL,CAAWG,IAAhF,EAAR,CAAd,EACA,MAED,IAAK,SAAL,CACC,MAAKX,QAAL,CAAc,CAAEO,IAAI,cAAE,KAAC,OAAD,EAAS,aAAa,CAAE,MAAKK,aAA7B,CAA4C,KAAK,CAAE,MAAKf,SAAxD,EAAR,CAAd,EACA,MAED,IAAK,iBAAL,CACC,MAAKG,QAAL,CAAc,CAAEO,IAAI,cAAE,KAAC,eAAD,EAAiB,SAAS,CAAG,MAAKC,KAAL,CAAWK,cAAxC,CAAyD,gBAAgB,CAAE,MAAKC,gBAAhF,CAAkG,KAAK,CAAG,MAAKjB,SAA/G,EAAR,CAAd,EACA,MAED,IAAK,UAAL,CACC,MAAKG,QAAL,CAAc,CAAEO,IAAI,cAAE,KAAC,QAAD,EAAU,SAAS,CAAG,MAAKC,KAAL,CAAWK,cAAjC,CAAkD,gBAAgB,CAAE,MAAKC,gBAAzE,CAA2F,KAAK,CAAE,MAAKjB,SAAvG,EAAR,CAAd,EACA,MAED,IAAK,UAAL,CACC,MAAKG,QAAL,CAAc,CAAEO,IAAI,cAAE,KAAC,QAAD,EAAU,KAAK,CAAE,MAAKV,SAAtB,EAAR,CAAd,EACA,MAED,QACC,MAtBF,CAwBA,CACD,CAjFkB,OAmFnBe,aAnFmB,CAmFH,SAAAG,SAAS,CAAI,CAC5B,MAAKf,QAAL,CAAc,iBAAO,CACpBa,cAAc,CAAEE,SADI,CAAP,EAAd,CAGA,UAAM,CAAE,MAAKT,UAAL,CAAgB,UAAhB,EAA8B,CAHtC,EAKA,CAzFkB,OA2FnBI,YA3FmB,CA2FJ,SAAAK,SAAS,CAAI,CAC3B,MAAKf,QAAL,CAAc,CACba,cAAc,CAAEE,SADH,CAAd,CAEG,UAAM,CAAE,MAAKT,UAAL,CAAgB,iBAAhB,EAAoC,CAF/C,EAGA,CA/FkB,OAiGnBQ,gBAjGmB,CAiGA,UAAM,CACxB,MAAKd,QAAL,CAAc,iBAAO,CACpBa,cAAc,CAAE,IADI,CAAP,EAAd,CAGA,UAAM,CAAE,MAAKP,UAAL,CAAgB,MAAhB,EAA0B,CAHlC,EAKA,CAvGkB,CAGlB,MAAKE,KAAL,CAAa,CACZQ,SAAS,CAAE,IADC,CAEZP,UAAU,CAAE,KAFA,CAGZI,cAAc,CAAE,IAHJ,CAIZZ,KAAK,CAAE,CACNC,IAAI,CAAE,EADA,CAENC,QAAQ,CAAE,KAFJ,CAGNC,IAAI,CAAE,MAHA,CAJK,CAAb,CAHkB,aAalB,C,6EAsBmB,iBACnBa,KAAK,CAAC,+CAAD,CAAkD,CAAEC,WAAW,CAAE,SAAf,CAAlD,CAAL,CACEC,IADF,CACO,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADf,EAEEF,IAFF,CAEO,SAAAG,IAAI,CAAI,CAEb,MAAI,CAACtB,QAAL,CAAc,CACbS,UAAU,CAAEa,IAAI,CAACC,QADJ,CAEbZ,IAAI,CAAEW,IAAI,CAACX,IAFE,CAGbJ,IAAI,CAAEe,IAAI,CAACC,QAAL,cAAgB,KAAC,IAAD,EAAM,YAAY,CAAE,MAAI,CAACb,YAAzB,CAAuC,KAAK,CAAE,MAAI,CAACb,SAAnD,CAA8D,IAAI,CAAGyB,IAAI,CAACX,IAA1E,EAAhB,cAAsG,KAAC,KAAD,EAAO,KAAK,CAAE,MAAI,CAACd,SAAnB,EAH/F,CAIbmB,SAAS,CAAE,KAJE,CAAd,EAOA,CAXF,EAYA,C,4DAEiBQ,K,CAAOC,I,CAAM,CAC9BR,KAAK,CAAC,iDAAD,CAAoD,CAAES,MAAM,CAAE,MAAV,CAAkBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAA3B,CAAmET,WAAW,CAAE,SAAhF,CAA2FU,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAACN,KAAK,CAAE,CAAEA,KAAK,CAAEA,KAAT,CAAgBC,IAAI,CAAEA,IAAtB,CAAR,CAAf,CAAjG,CAApD,CAAL,CACA,C,uCAqDQ,CACR,mBACC,aAAK,SAAS,CAAC,eAAf,WAEC,KAAKjB,KAAL,CAAWQ,SAAX,cACC,gCADD,CAGA,KAAKR,KAAL,CAAWD,IALZ,CAQC,KAAKC,KAAL,CAAWC,UAAX,cAAwB,KAAC,GAAD,EAAK,UAAU,CAAG,KAAKH,UAAvB,EAAxB,CAAiE,IARlE,cAUC,KAAC,KAAD,EAAO,OAAO,CAAG,KAAKE,KAAL,CAAWP,KAA5B,EAVD,GADD,CAcA,C,iBAzHgBf,KAAK,CAAC6C,S,EA6HxB,cAAepC,CAAAA,GAAf","sourcesContent":["// eslint-disable-next-line\n/* global fetch */\n\nimport React from \"react\";\nimport Login from \"./components/Login\";\nimport Nav from \"./components/Nav\";\nimport Home from \"./components/Home\";\nimport Workout from \"./components/Workout\";\nimport Schedule from \"./components/Schedule\";\nimport WorkoutActivity from \"./components/WorkoutActivity\";\nimport Activity from \"./components/Activity\";\nimport Toast from \"./components/Toast\";\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tisLoggedIn: false,\n\t\t\tcurrentWorkout: null,\n\t\t\ttoast: {\n\t\t\t\ttext: \"\",\n\t\t\t\tisActive: false,\n\t\t\t\ttype: \"info\"\n\t\t\t}\n\t\t};\n\t}\n\t\n\tshowToast = (message, isError) => {\n\t\tthis.setState({\n\t\t\ttoast: {\n\t\t\t\ttext: message,\n\t\t\t\tisActive: true,\n\t\t\t\ttype: isError ? \"error\" : \"info\"\n\t\t\t}\n\t\t});\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({\n\t\t\t\ttoast: {\n\t\t\t\t\ttext: \"\",\n\t\t\t\t\tisActive: false,\n\t\t\t\t\ttype: \"info\"\n\t\t\t\t}\n\t\t\t});\n\t\t}, 4000);\n\t}\n\t\n\tcomponentDidMount() {\n\t\tfetch(\"http://workout.beynum.com/workout/api/appload\", { credentials: \"include\" })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoggedIn: data.loggedIn,\n\t\t\t\t\tuser: data.user,\n\t\t\t\t\tpage: data.loggedIn ? <Home startWorkout={this.startWorkout} toast={this.showToast} user={ data.user } /> : <Login toast={this.showToast} />,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t\t\n\t\t\t});\n\t}\n\t\n\tcomponentDidCatch(error, info) {\n\t\tfetch(\"http://workout.beynum.com/workout/api/errorsave\", { method: \"post\", headers: { \"Content-Type\": \"application/json\" }, credentials: \"include\", body: JSON.stringify({error: { error: error, info: info } }) });\n\t}\n\t\n\tchangePage = (page) => {\n\t\tif (this.state.isLoggedIn) {\n\t\t\tswitch (page) {\n\t\t\t\tcase \"home\":\n\t\t\t\t\tthis.setState({ page: <Home startWorkout={this.startWorkout} toast={this.showToast} user={ this.state.user } /> });\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"workout\":\n\t\t\t\t\tthis.setState({ page: <Workout startActivity={this.startActivity} toast={this.showToast} /> });\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"workoutactivity\":\n\t\t\t\t\tthis.setState({ page: <WorkoutActivity workoutId={ this.state.currentWorkout } activityComplete={this.activityComplete} toast={ this.showToast } /> });\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"activity\":\n\t\t\t\t\tthis.setState({ page: <Activity workoutId={ this.state.currentWorkout } activityComplete={this.activityComplete} toast={this.showToast} /> });\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"schedule\":\n\t\t\t\t\tthis.setState({ page: <Schedule toast={this.showToast} /> });\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tstartActivity = workoutId => {\n\t\tthis.setState(() => ({ \n\t\t\tcurrentWorkout: workoutId \n\t\t}),\n\t\t() => { this.changePage(\"activity\"); }\n\t\t);\n\t}\n\t\n\tstartWorkout = workoutId => {\n\t\tthis.setState({\n\t\t\tcurrentWorkout: workoutId\n\t\t}, () => { this.changePage(\"workoutactivity\") });\n\t}\n\t\n\tactivityComplete = () => {\n\t\tthis.setState(() => ({ \n\t\t\tcurrentWorkout: null\n\t\t}),\n\t\t() => { this.changePage(\"home\"); }\n\t\t);\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"pageContainer\">\n\t\t\t{\n\t\t\t\tthis.state.isLoading ?\n\t\t\t\t\t<div>Loading</div>\n\t\t\t\t:\n\t\t\t\tthis.state.page\n\t\t\t}\n\t\t\t{\t\n\t\t\t\tthis.state.isLoggedIn ? <Nav changePage={ this.changePage } /> : null\n\t\t\t}\n\t\t\t\t<Toast message={ this.state.toast } />\n\t\t\t</div>\n\t\t);\n\t}\n\t\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}