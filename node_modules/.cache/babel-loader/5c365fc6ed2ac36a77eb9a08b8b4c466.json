{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/bvanbeynum/workout/client/src/components/WorkoutActivity.jsx\";\n// eslint-disable-next-line\n\n/* global fetch */\nimport React from \"react\";\nimport \"./workoutactivity.css\";\nimport loadingImage from \"../media/loading.gif\";\n\nclass WorkoutActivity extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getWeights = (totalWeight, exercise) => {\n      let weights = {};\n      totalWeight -= exercise.hasBar ? 45 : 0;\n      weights.has45 = totalWeight >= 45 * 2;\n      totalWeight -= totalWeight >= 45 * 2 ? 45 * 2 : 0;\n      weights.has25 = totalWeight >= 25 * 2;\n      totalWeight -= totalWeight >= 25 * 2 ? 25 * 2 : 0;\n      weights.has10 = totalWeight >= 10 * 2;\n      totalWeight -= totalWeight >= 10 * 2 ? 10 * 2 : 0;\n      weights.has5 = totalWeight >= 5 * 2;\n      totalWeight -= totalWeight >= 5 * 2 ? 5 * 2 : 0;\n      weights[\"has2.5\"] = totalWeight >= 2.5 * 2;\n      totalWeight -= totalWeight >= 2.5 * 2 ? 2.5 * 2 : 0;\n      return weights;\n    };\n\n    this.state = {\n      isLoading: true,\n      graphSize: {\n        width: 350,\n        height: 200\n      },\n      workout: {\n        id: this.props.workoutId\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://workout.beynum.com/workout/api/activityload?id=\" + this.state.workout.id, {\n      credentials: \"include\"\n    }).then(response => response.json()).then(data => {\n      const workout = data.workout;\n      workout.sets = workout.sets.map(workoutSet => {\n        const graphDates = [...new Set(workoutSet.exercise.activities.map(activity => +new Date(activity.runDateOnly)))];\n        return { ...workoutSet,\n          ...this.getWeights(workoutSet.exercise.maxWeight, workoutSet.exercise),\n          graph: {\n            days: graphDates.map((date, dateIndex) => ({\n              date: new Date(date).getMonth() + 1 + \"/\" + new Date(date).getDate(),\n              oneRepMax: workoutSet.exercise.activities.filter(activity => +new Date(activity.runDateOnly) === date).map(activity => activity.oneRepMax).sort((activityA, activityB) => activityB - activityA)[0],\n              setLoads: workoutSet.exercise.activities.filter(activity => +new Date(activity.runDateOnly) === date).map(activity => activity.load)\n            }))\n          }\n        };\n      });\n      workout.sets = workout.sets.map(workoutSet => {\n        const minValue = Math.min(...workoutSet.graph.days.map(date => date.oneRepMax)),\n              maxValue = Math.max(...workoutSet.graph.days.map(date => date.oneRepMax)),\n              minGraph = minValue - minValue * .1,\n              maxGraph = maxValue + maxValue * .1,\n              valueHeight = maxGraph - minGraph;\n        return { ...workoutSet,\n          graph: { ...workoutSet.graph,\n            days: workoutSet.graph.days.map((date, dateIndex) => {\n              return { ...date,\n                point: {\n                  x: this.state.graphSize.width / workoutSet.graph.days.length * dateIndex,\n                  y: (maxGraph - date.oneRepMax) * this.state.graphSize.height / valueHeight\n                }\n              };\n            }),\n            pointWidth: this.state.graphSize.width / workoutSet.graph.days.length,\n            minValue: minGraph,\n            maxValue: maxGraph\n          }\n        };\n      });\n      this.setState({\n        workout: workout,\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Loading\",\n          src: loadingImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Workout \", this.state.workout.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"setsContainer\",\n          children: this.state.workout.sets.map((workoutSet, setIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setContainer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setHeader\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setNameContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"header\",\n                  children: workoutSet.exercise.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"subHeader\",\n                  children: workoutSet.exercise.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setNumberContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: setIndex + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: this.state.workout.sets.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setDataContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"horizontalContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dataButton\",\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dataValue\",\n                  children: workoutSet.exercise.maxReps\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dataButton\",\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 9\n              }, this), workoutSet.exercise.hasWeight ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"horizontalContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has2.5\"] ? \"active\" : \"\"}`,\n                  children: \"2.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has5\"] ? \"active\" : \"\"}`,\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has10\"] ? \"active\" : \"\"}`,\n                  children: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has25\"] ? \"active\" : \"\"}`,\n                  children: \"25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has35\"] ? \"active\" : \"\"}`,\n                  children: \"35\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `weightButton ${workoutSet[\"has45\"] ? \"active\" : \"\"}`,\n                  children: \"45\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 9\n              }, this) : \"\", workoutSet.exercise.hasWeight ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"horizontalContainer\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"subHeader\",\n                  children: [workoutSet.exercise.maxWeight, \" lbs\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 9\n              }, this) : \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"graphContainer\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                viewBox: \"0 0 350 200\",\n                className: \"workoutGraph\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  class: \"stroke\",\n                  d: workoutSet.graph.days.map((day, dayIndex) => (dayIndex === 0 ? \"M\" : \"L\") + (day.point.x + workoutSet.graph.pointWidth / 2) + \",\" + (this.state.graphSize.height - day.point.y)).join(\" \")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"actionContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setActionButton\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setActionButton\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M8 5v14l11-7z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setActionButton\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 8\n            }, this)]\n          }, setIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default WorkoutActivity;","map":{"version":3,"sources":["/home/bvanbeynum/workout/client/src/components/WorkoutActivity.jsx"],"names":["React","loadingImage","WorkoutActivity","Component","constructor","props","getWeights","totalWeight","exercise","weights","hasBar","has45","has25","has10","has5","state","isLoading","graphSize","width","height","workout","id","workoutId","componentDidMount","fetch","credentials","then","response","json","data","sets","map","workoutSet","graphDates","Set","activities","activity","Date","runDateOnly","maxWeight","graph","days","date","dateIndex","getMonth","getDate","oneRepMax","filter","sort","activityA","activityB","setLoads","load","minValue","Math","min","maxValue","max","minGraph","maxGraph","valueHeight","point","x","length","y","pointWidth","setState","render","name","setIndex","category","maxReps","hasWeight","day","dayIndex","join"],"mappings":";;AAAA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,uBAAP;AACA,OAAOC,YAAP,MAAyB,sBAAzB;;AAEA,MAAMC,eAAN,SAA8BF,KAAK,CAACG,SAApC,CAA8C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAyEnBC,UAzEmB,GAyEN,CAACC,WAAD,EAAcC,QAAd,KAA2B;AACvC,UAAIC,OAAO,GAAG,EAAd;AAEAF,MAAAA,WAAW,IAAIC,QAAQ,CAACE,MAAT,GAAkB,EAAlB,GAAuB,CAAtC;AAEAD,MAAAA,OAAO,CAACE,KAAR,GAAgBJ,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAE,MAAAA,OAAO,CAACG,KAAR,GAAgBL,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAE,MAAAA,OAAO,CAACI,KAAR,GAAgBN,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAE,MAAAA,OAAO,CAACK,IAAR,GAAeP,WAAW,IAAI,IAAI,CAAlC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,IAAI,CAAnB,GAAuB,IAAI,CAA3B,GAA+B,CAA9C;AAEAE,MAAAA,OAAO,CAAC,QAAD,CAAP,GAAoBF,WAAW,IAAI,MAAM,CAAzC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,MAAM,CAArB,GAAyB,MAAM,CAA/B,GAAmC,CAAlD;AAEA,aAAOE,OAAP;AACA,KA9FkB;;AAGlB,SAAKM,KAAL,GAAa;AACZC,MAAAA,SAAS,EAAE,IADC;AAEZC,MAAAA,SAAS,EAAE;AAAEC,QAAAA,KAAK,EAAE,GAAT;AAAcC,QAAAA,MAAM,EAAE;AAAtB,OAFC;AAGZC,MAAAA,OAAO,EAAE;AAAEC,QAAAA,EAAE,EAAE,KAAKhB,KAAL,CAAWiB;AAAjB;AAHG,KAAb;AAKA;;AAEDC,EAAAA,iBAAiB,GAAG;AAEnBC,IAAAA,KAAK,CAAC,2DAA2D,KAAKT,KAAL,CAAWK,OAAX,CAAmBC,EAA/E,EAAmF;AAAEI,MAAAA,WAAW,EAAE;AAAf,KAAnF,CAAL,CACEC,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOG,IAAI,IAAI;AACb,YAAMT,OAAO,GAAGS,IAAI,CAACT,OAArB;AAEAA,MAAAA,OAAO,CAACU,IAAR,GAAeV,OAAO,CAACU,IAAR,CAAaC,GAAb,CAAiBC,UAAU,IAAI;AAC7C,cAAMC,UAAU,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQF,UAAU,CAACxB,QAAX,CAAoB2B,UAApB,CAA+BJ,GAA/B,CAAmCK,QAAQ,IAAI,CAAE,IAAIC,IAAJ,CAASD,QAAQ,CAACE,WAAlB,CAAjD,CAAR,CAAJ,CAAnB;AAEA,eAAO,EACN,GAAGN,UADG;AAEN,aAAG,KAAK1B,UAAL,CAAgB0B,UAAU,CAACxB,QAAX,CAAoB+B,SAApC,EAA+CP,UAAU,CAACxB,QAA1D,CAFG;AAGNgC,UAAAA,KAAK,EAAE;AACNC,YAAAA,IAAI,EAAER,UAAU,CAACF,GAAX,CAAe,CAACW,IAAD,EAAOC,SAAP,MAAsB;AAC1CD,cAAAA,IAAI,EAAI,IAAIL,IAAJ,CAASK,IAAT,CAAD,CAAiBE,QAAjB,KAA8B,CAA/B,GAAoC,GAApC,GAA2C,IAAIP,IAAJ,CAASK,IAAT,CAAD,CAAiBG,OAAjB,EADN;AAE1CC,cAAAA,SAAS,EAAEd,UAAU,CAACxB,QAAX,CAAoB2B,UAApB,CACTY,MADS,CACFX,QAAQ,IAAI,CAAE,IAAIC,IAAJ,CAASD,QAAQ,CAACE,WAAlB,CAAF,KAAsCI,IADhD,EAETX,GAFS,CAELK,QAAQ,IAAIA,QAAQ,CAACU,SAFhB,EAGTE,IAHS,CAGJ,CAACC,SAAD,EAAYC,SAAZ,KAA0BA,SAAS,GAAGD,SAHlC,EAG6C,CAH7C,CAF+B;AAM1CE,cAAAA,QAAQ,EAAEnB,UAAU,CAACxB,QAAX,CAAoB2B,UAApB,CACRY,MADQ,CACDX,QAAQ,IAAI,CAAE,IAAIC,IAAJ,CAASD,QAAQ,CAACE,WAAlB,CAAF,KAAsCI,IADjD,EAERX,GAFQ,CAEJK,QAAQ,IAAIA,QAAQ,CAACgB,IAFjB;AANgC,aAAtB,CAAf;AADA;AAHD,SAAP;AAgBA,OAnBc,CAAf;AAqBAhC,MAAAA,OAAO,CAACU,IAAR,GAAeV,OAAO,CAACU,IAAR,CAAaC,GAAb,CAAiBC,UAAU,IAAI;AAC7C,cAAMqB,QAAQ,GAAGC,IAAI,CAACC,GAAL,CAAS,GAAGvB,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBV,GAAtB,CAA0BW,IAAI,IAAIA,IAAI,CAACI,SAAvC,CAAZ,CAAjB;AAAA,cACCU,QAAQ,GAAGF,IAAI,CAACG,GAAL,CAAS,GAAGzB,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBV,GAAtB,CAA0BW,IAAI,IAAIA,IAAI,CAACI,SAAvC,CAAZ,CADZ;AAAA,cAECY,QAAQ,GAAGL,QAAQ,GAAIA,QAAQ,GAAG,EAFnC;AAAA,cAGCM,QAAQ,GAAGH,QAAQ,GAAIA,QAAQ,GAAG,EAHnC;AAAA,cAICI,WAAW,GAAGD,QAAQ,GAAGD,QAJ1B;AAMA,eAAO,EACN,GAAG1B,UADG;AAENQ,UAAAA,KAAK,EAAE,EACN,GAAGR,UAAU,CAACQ,KADR;AAENC,YAAAA,IAAI,EAAET,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBV,GAAtB,CAA0B,CAACW,IAAD,EAAOC,SAAP,KAAqB;AAEpD,qBAAO,EACN,GAAGD,IADG;AAENmB,gBAAAA,KAAK,EAAE;AACNC,kBAAAA,CAAC,EAAG,KAAK/C,KAAL,CAAWE,SAAX,CAAqBC,KAArB,GAA6Bc,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBsB,MAApD,GAA8DpB,SAD3D;AAENqB,kBAAAA,CAAC,EAAG,CAACL,QAAQ,GAAGjB,IAAI,CAACI,SAAjB,IAA8B,KAAK/B,KAAL,CAAWE,SAAX,CAAqBE,MAApD,GAA8DyC;AAF3D;AAFD,eAAP;AAOA,aATK,CAFA;AAYNK,YAAAA,UAAU,EAAE,KAAKlD,KAAL,CAAWE,SAAX,CAAqBC,KAArB,GAA6Bc,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBsB,MAZzD;AAaNV,YAAAA,QAAQ,EAAEK,QAbJ;AAcNF,YAAAA,QAAQ,EAAEG;AAdJ;AAFD,SAAP;AAmBA,OA1Bc,CAAf;AA4BA,WAAKO,QAAL,CAAc;AACb9C,QAAAA,OAAO,EAAEA,OADI;AAEbJ,QAAAA,SAAS,EAAE;AAFE,OAAd;AAIA,KA1DF;AA2DA;;AAyBDmD,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBAEA,KAAKpD,KAAL,CAAWC,SAAX,gBACC;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,gCACC;AAAK,UAAA,GAAG,EAAC,SAAT;AAAmB,UAAA,GAAG,EAAEf;AAAxB;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAMC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAA,iCAAc,KAAKc,KAAL,CAAWK,OAAX,CAAmBgD,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAGC;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,oBAEA,KAAKrD,KAAL,CAAWK,OAAX,CAAmBU,IAAnB,CAAwBC,GAAxB,CAA4B,CAACC,UAAD,EAAaqC,QAAb,kBAC3B;AAAoB,YAAA,SAAS,EAAC,cAA9B;AAAA,oCAEC;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,QAAf;AAAA,4BAA0BrC,UAAU,CAACxB,QAAX,CAAoB4D;AAA9C;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,4BAA6BpC,UAAU,CAACxB,QAAX,CAAoB8D;AAAjD;AAAA;AAAA;AAAA;AAAA,wBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAMC;AAAK,gBAAA,SAAS,EAAC,oBAAf;AAAA,wCACC;AAAA,4BAAOD,QAAQ,GAAG;AAAlB;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAA,4BAAO,KAAKtD,KAAL,CAAWK,OAAX,CAAmBU,IAAnB,CAAwBiC;AAA/B;AAAA;AAAA;AAAA;AAAA,wBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAND;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,eAcC;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,qBAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,4BAA6B/B,UAAU,CAACxB,QAAX,CAAoB+D;AAAjD;AAAA;AAAA;AAAA;AAAA,wBAFD,eAGC;AAAK,kBAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAOCvC,UAAU,CAACxB,QAAX,CAAoBgE,SAApB,gBACA;AAAK,gBAAA,SAAS,EAAC,qBAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAG,gBAAgBxC,UAAU,CAAC,QAAD,CAAV,GAAuB,QAAvB,GAAkC,EAAI,EAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAK,kBAAA,SAAS,EAAG,gBAAgBA,UAAU,CAAC,MAAD,CAAV,GAAqB,QAArB,GAAgC,EAAI,EAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFD,eAGC;AAAK,kBAAA,SAAS,EAAG,gBAAgBA,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHD,eAIC;AAAK,kBAAA,SAAS,EAAG,gBAAgBA,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJD,eAKC;AAAK,kBAAA,SAAS,EAAG,gBAAgBA,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBALD,eAMC;AAAK,kBAAA,SAAS,EAAG,gBAAgBA,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAND;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,GASE,EAhBH,EAmBCA,UAAU,CAACxB,QAAX,CAAoBgE,SAApB,gBACA;AAAK,gBAAA,SAAS,EAAC,qBAAf;AAAA,uCACC;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,6BAA6BxC,UAAU,CAACxB,QAAX,CAAoB+B,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADA,GAIE,EAvBH;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdD,eAyCC;AAAK,cAAA,SAAS,EAAC,gBAAf;AAAA,qCACC;AAAK,gBAAA,OAAO,EAAC,aAAb;AAA2B,gBAAA,SAAS,EAAC,cAArC;AAAA,uCACC;AAAM,kBAAA,KAAK,EAAC,QAAZ;AAAqB,kBAAA,CAAC,EAAGP,UAAU,CAACQ,KAAX,CAAiBC,IAAjB,CAAsBV,GAAtB,CAA0B,CAAC0C,GAAD,EAAMC,QAAN,KAAmB,CAACA,QAAQ,KAAK,CAAb,GAAiB,GAAjB,GAAuB,GAAxB,KAAgCD,GAAG,CAACZ,KAAJ,CAAUC,CAAV,GAAe9B,UAAU,CAACQ,KAAX,CAAiByB,UAAjB,GAA8B,CAA7E,IAAmF,GAAnF,IAA0F,KAAKlD,KAAL,CAAWE,SAAX,CAAqBE,MAArB,GAA8BsD,GAAG,CAACZ,KAAJ,CAAUG,CAAlI,CAA7C,EAAoLW,IAApL,CAAyL,GAAzL;AAAzB;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAzCD,eA+CC;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,sCACC;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACC;AAAK,kBAAA,KAAK,EAAC,4BAAX;AAAwC,kBAAA,OAAO,EAAC,WAAhD;AAAA,yCACC;AAAM,oBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBADD,eAOC;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACC;AAAK,kBAAA,KAAK,EAAC,4BAAX;AAAwC,kBAAA,OAAO,EAAC,WAAhD;AAAA,yCACC;AAAM,oBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAPD,eAaC;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACC;AAAK,kBAAA,KAAK,EAAC,4BAAX;AAAwC,kBAAA,OAAO,EAAC,WAAhD;AAAA,yCACC;AAAM,oBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAbD;AAAA;AAAA;AAAA;AAAA;AAAA,oBA/CD;AAAA,aAAUN,QAAV;AAAA;AAAA;AAAA;AAAA,kBADD;AAFA;AAAA;AAAA;AAAA;AAAA,gBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,YADD;AA0FA;;AA5L4C;;AA+L9C,eAAenE,eAAf","sourcesContent":["// eslint-disable-next-line\n/* global fetch */\n\nimport React from \"react\";\nimport \"./workoutactivity.css\";\nimport loadingImage from \"../media/loading.gif\";\n\nclass WorkoutActivity extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tgraphSize: { width: 350, height: 200 },\n\t\t\tworkout: { id: this.props.workoutId }\n\t\t};\n\t}\n\t\n\tcomponentDidMount() {\n\t\t\n\t\tfetch(\"http://workout.beynum.com/workout/api/activityload?id=\" + this.state.workout.id, { credentials: \"include\" })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst workout = data.workout;\n\t\t\t\t\n\t\t\t\tworkout.sets = workout.sets.map(workoutSet => {\n\t\t\t\t\tconst graphDates = [...new Set(workoutSet.exercise.activities.map(activity => +(new Date(activity.runDateOnly))))];\n\t\t\t\t\t\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\t...this.getWeights(workoutSet.exercise.maxWeight, workoutSet.exercise),\n\t\t\t\t\t\tgraph: {\n\t\t\t\t\t\t\tdays: graphDates.map((date, dateIndex) => ({\n\t\t\t\t\t\t\t\tdate: ((new Date(date)).getMonth() + 1) + \"/\" + (new Date(date)).getDate(),\n\t\t\t\t\t\t\t\toneRepMax: workoutSet.exercise.activities\n\t\t\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t\t\t.map(activity => activity.oneRepMax)\n\t\t\t\t\t\t\t\t\t.sort((activityA, activityB) => activityB - activityA)[0],\n\t\t\t\t\t\t\t\tsetLoads: workoutSet.exercise.activities\n\t\t\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t\t\t.map(activity => activity.load)\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tworkout.sets = workout.sets.map(workoutSet => {\n\t\t\t\t\tconst minValue = Math.min(...workoutSet.graph.days.map(date => date.oneRepMax)),\n\t\t\t\t\t\tmaxValue = Math.max(...workoutSet.graph.days.map(date => date.oneRepMax)),\n\t\t\t\t\t\tminGraph = minValue - (minValue * .1),\n\t\t\t\t\t\tmaxGraph = maxValue + (maxValue * .1),\n\t\t\t\t\t\tvalueHeight = maxGraph - minGraph;\n\t\t\t\t\t\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\tgraph: {\n\t\t\t\t\t\t\t...workoutSet.graph,\n\t\t\t\t\t\t\tdays: workoutSet.graph.days.map((date, dateIndex) => {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...date,\n\t\t\t\t\t\t\t\t\tpoint: {\n\t\t\t\t\t\t\t\t\t\tx: (this.state.graphSize.width / workoutSet.graph.days.length) * dateIndex,\n\t\t\t\t\t\t\t\t\t\ty: ((maxGraph - date.oneRepMax) * this.state.graphSize.height) / valueHeight\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tpointWidth: this.state.graphSize.width / workoutSet.graph.days.length,\n\t\t\t\t\t\t\tminValue: minGraph,\n\t\t\t\t\t\t\tmaxValue: maxGraph\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tworkout: workout,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t});\n\t}\n\t\n\tgetWeights = (totalWeight, exercise) => {\n\t\tlet weights = {};\n\t\t\n\t\ttotalWeight -= exercise.hasBar ? 45 : 0;\n\t\t\n\t\tweights.has45 = totalWeight >= 45 * 2;\n\t\ttotalWeight -= totalWeight >= 45 * 2 ? 45 * 2 : 0;\n\t\t\n\t\tweights.has25 = totalWeight >= 25 * 2;\n\t\ttotalWeight -= totalWeight >= 25 * 2 ? 25 * 2 : 0;\n\t\t\n\t\tweights.has10 = totalWeight >= 10 * 2;\n\t\ttotalWeight -= totalWeight >= 10 * 2 ? 10 * 2 : 0;\n\t\t\n\t\tweights.has5 = totalWeight >= 5 * 2;\n\t\ttotalWeight -= totalWeight >= 5 * 2 ? 5 * 2 : 0;\n\t\t\n\t\tweights[\"has2.5\"] = totalWeight >= 2.5 * 2;\n\t\ttotalWeight -= totalWeight >= 2.5 * 2 ? 2.5 * 2 : 0;\n\t\t\n\t\treturn weights;\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"page\">\n\t\t\t{\n\t\t\tthis.state.isLoading ?\n\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t<img alt=\"Loading\" src={loadingImage} />\n\t\t\t\t\t<div>Loading...</div>\n\t\t\t\t</div>\n\t\t\t:\n\t\t\t\t<div className=\"pageContainer\">\n\t\t\t\t\t<h1>Workout { this.state.workout.name }</h1>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"setsContainer\">\t\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.workout.sets.map((workoutSet, setIndex) => (\n\t\t\t\t\t\t<div key={setIndex} className=\"setContainer\">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"setHeader\">\n\t\t\t\t\t\t\t\t<div className=\"setNameContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"header\">{ workoutSet.exercise.name }</div>\n\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.exercise.category }</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setNumberContainer\">\n\t\t\t\t\t\t\t\t\t<div>{ setIndex + 1 }</div>\n\t\t\t\t\t\t\t\t\t<div>{ this.state.workout.sets.length }</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"setDataContainer\">\n\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"dataButton\">-</div>\n\t\t\t\t\t\t\t\t\t<div className=\"dataValue\">{ workoutSet.exercise.maxReps }</div>\n\t\t\t\t\t\t\t\t\t<div className=\"dataButton\">+</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ? \n\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has2.5\"] ? \"active\" : \"\" }`}>2.5</div>\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has5\"] ? \"active\" : \"\" }`}>5</div>\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has10\"] ? \"active\" : \"\" }`}>10</div>\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has25\"] ? \"active\" : \"\" }`}>25</div>\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has35\"] ? \"active\" : \"\" }`}>35</div>\n\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has45\"] ? \"active\" : \"\" }`}>45</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ?\n\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.exercise.maxWeight } lbs</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"graphContainer\">\n\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 350 200\" className=\"workoutGraph\">\n\t\t\t\t\t\t\t\t\t<path class=\"stroke\" d={ workoutSet.graph.days.map((day, dayIndex) => (dayIndex === 0 ? \"M\" : \"L\") + (day.point.x + (workoutSet.graph.pointWidth / 2)) + \",\" + (this.state.graphSize.height - day.point.y) ).join(\" \") } />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"actionContainer\">\n\t\t\t\t\t\t\t\t<div className=\"setActionButton\">\n\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setActionButton\">\n\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path d=\"M8 5v14l11-7z\"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setActionButton\">\n\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WorkoutActivity;\n"]},"metadata":{},"sourceType":"module"}