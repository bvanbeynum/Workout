{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/bvanbeynum/workout/client/src/components/WorkoutActivity.jsx\";\n// eslint-disable-next-line\n\n/* global fetch */\nimport React from \"react\";\nimport \"./workoutactivity.css\";\nimport loadingImage from \"../media/loading.gif\";\nimport countdownURL from \"../media/countdown.mp3\";\nimport readyURL from \"../media/getready.mp3\";\n\nclass WorkoutActivity extends React.Component {\n  constructor(props) {\n    super(props);\n    this.countdownAudio = new Audio(countdownURL);\n    this.readyAudio = new Audio(readyURL);\n    this.video = {};\n\n    this.completeSet = setIndex => {\n      if (this.state.restInterval) {\n        clearInterval(this.state.restInterval);\n      }\n\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: workout.sets.map((workoutSet, mapIndex) => ({ ...workoutSet,\n            isComplete: mapIndex === setIndex ? true : workoutSet.isComplete,\n            isRest: mapIndex === setIndex ? true : false\n          }))\n        },\n        countDown: {\n          min: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest / 60) : 0,\n          sec: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest % 60) : 0,\n          canPlayReady: true,\n          canPlayCountdown: true\n        }\n      }), () => {\n        let restInterval = setInterval(this.updateTime, 1000);\n        this.setState({\n          restInterval: restInterval\n        });\n        this.video.play();\n      });\n    };\n\n    this.deleteSet = setIndex => {\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: [...workout.sets.slice(0, setIndex), ...workout.sets.slice(setIndex + 1)]\n        }\n      }));\n    };\n\n    this.addSet = setIndex => {\n      const exercise = this.state.exercises[0],\n            newSet = {\n        exercise: exercise,\n        reps: exercise.maxReps || 0,\n        weight: exercise.maxWeight || 0,\n        ...this.getWeights(exercise.maxWeight || 0, exercise)\n      };\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: [...workout.sets.slice(0, setIndex + 1), newSet, ...workout.sets.slice(setIndex + 1)]\n        }\n      }));\n    };\n\n    this.changeExercise = setIndex => event => {\n      const exercise = this.state.exercises.find(exercise => exercise.name === event.target.value);\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: [...workout.sets.slice(0, setIndex), { ...workout.sets[setIndex],\n            reps: exercise.maxReps || 0,\n            weight: exercise.maxWeight || 0,\n            exercise: exercise\n          }, ...workout.sets.slice(setIndex + 1)]\n        }\n      }));\n    };\n\n    this.saveActivity = () => {\n      const activity = {\n        workoutId: this.state.workout.id,\n        runDate: new Date(),\n        sets: this.state.workout.sets.filter(workoutSet => workoutSet.isComplete).map(workoutSet => ({\n          exercise: {\n            id: workoutSet.exercise.id,\n            name: workoutSet.exercise.name,\n            category: workoutSet.exercise.category\n          },\n          reps: workoutSet.reps,\n          weight: workoutSet.weight\n        }))\n      };\n      fetch(\"http://workout.beynum.com/workout/api/activitysave\", {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        credentials: \"include\",\n        body: JSON.stringify({\n          activity: activity\n        })\n      }).then(response => response.json()).then(data => {\n        this.props.activityComplete();\n      }).catch(error => {\n        console.warn(error);\n        this.props.toast(\"Error updating workout\", true);\n      });\n    };\n\n    this.editReps = (setIndex, newReps) => {\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: [...workout.sets.slice(0, setIndex), { ...workout.sets[setIndex],\n            reps: newReps\n          }, ...workout.sets.slice(setIndex + 1)]\n        }\n      }));\n    };\n\n    this.editWeight = (setIndex, weight) => {\n      const newTotal = this.state.workout.sets[setIndex].weight + (this.state.workout.sets[setIndex][\"has\" + weight] ? weight * 2 * -1 : weight * 2);\n      this.setState(({\n        workout\n      }) => ({\n        workout: { ...workout,\n          sets: [...workout.sets.slice(0, setIndex), { ...workout.sets[setIndex],\n            ...this.getWeights(newTotal, workout.sets[setIndex].exercise),\n            weight: newTotal\n          }, ...workout.sets.slice(setIndex + 1)]\n        }\n      }));\n    };\n\n    this.getWeights = (totalWeight, exercise) => {\n      let weights = {};\n      totalWeight -= exercise.hasBar ? 45 : 0;\n      weights.has45 = totalWeight >= 45 * 2;\n      totalWeight -= totalWeight >= 45 * 2 ? 45 * 2 : 0;\n      weights.has25 = totalWeight >= 25 * 2;\n      totalWeight -= totalWeight >= 25 * 2 ? 25 * 2 : 0;\n      weights.has10 = totalWeight >= 10 * 2;\n      totalWeight -= totalWeight >= 10 * 2 ? 10 * 2 : 0;\n      weights.has5 = totalWeight >= 5 * 2;\n      totalWeight -= totalWeight >= 5 * 2 ? 5 * 2 : 0;\n      weights[\"has2.5\"] = totalWeight >= 2.5 * 2;\n      totalWeight -= totalWeight >= 2.5 * 2 ? 2.5 * 2 : 0;\n      return weights;\n    };\n\n    this.updateTime = () => {\n      let sec = this.state.countDown.sec,\n          min = this.state.countDown.min;\n\n      if (sec > 0) {\n        sec--;\n      } else if (min > 0) {\n        min--;\n        sec = 59;\n      }\n\n      if (sec <= 0 && min <= 0) {\n        // complete\n        if (this.state.restInterval) {\n          clearInterval(this.state.restInterval);\n        }\n\n        this.setState(({\n          workout\n        }) => ({\n          workout: { ...workout,\n            sets: workout.sets.map(workoutSet => ({ ...workoutSet,\n              isRest: false\n            }))\n          }\n        }));\n        this.video.pause();\n      } else if (this.state.countDown.canPlayReady && min <= 0 && sec <= 30 && sec > 28) {\n        console.log(\"ready\"); // Play get ready\n\n        this.readyAudio.play();\n        this.setState(({\n          countDown\n        }) => ({\n          countDown: { ...countDown,\n            canPlayReady: false\n          }\n        }));\n      } else if (this.state.countDown.canPlayCountdown && min <= 0 && sec <= 3) {\n        console.log(\"countdown\"); // PlayCountdown\n\n        this.countdownAudio.play();\n        this.setState(({\n          countDown\n        }) => ({\n          countDown: { ...countDown,\n            canPlayCountdown: false\n          }\n        }));\n      }\n\n      this.setState(({\n        countDown\n      }) => ({\n        countDown: { ...countDown,\n          min: min,\n          sec: sec\n        }\n      }));\n    };\n\n    this.state = {\n      isLoading: true,\n      countDown: {\n        min: 0,\n        sec: 0\n      },\n      workout: {\n        id: this.props.workoutId\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://workout.beynum.com/workout/api/activityload?id=\" + this.state.workout.id, {\n      credentials: \"include\"\n    }).then(response => response.json()).then(data => {\n      const workout = data.workout;\n      let exercises = data.exercises.map(exercise => {\n        const graphDates = [...new Set(exercise.activities.map(activity => +new Date(activity.runDateOnly)))];\n        const days = graphDates.map((date, dateIndex) => ({\n          date: new Date(date).getMonth() + 1 + \"/\" + new Date(date).getDate(),\n          oneRepMax: exercise.activities.filter(activity => +new Date(activity.runDateOnly) === date).map(activity => activity.oneRepMax).sort((activityA, activityB) => activityB - activityA)[0],\n          setWeights: exercise.activities.filter(activity => +new Date(activity.runDateOnly) === date).map(activity => activity.weight),\n          setReps: exercise.activities.filter(activity => +new Date(activity.runDateOnly) === date).map(activity => activity.reps)\n        }));\n        const graphSize = {\n          width: 350,\n          height: 200,\n          barY: 150,\n          weightHeight: 45,\n          repHeight: 100\n        },\n              dayWidth = graphSize.width / graphDates.length,\n              barWidth = 5;\n        const oneRepMax = {};\n        oneRepMax.minValue = Math.min(...days.map(date => date.oneRepMax));\n        oneRepMax.maxValue = Math.max(...days.map(date => date.oneRepMax));\n        oneRepMax.minGraph = oneRepMax.minValue - oneRepMax.minValue * .2;\n        oneRepMax.maxGraph = oneRepMax.maxValue + oneRepMax.maxValue * .05;\n        oneRepMax.valueHeight = oneRepMax.maxGraph - oneRepMax.minGraph;\n        const oneRepMaxPath = days.map((day, dayIndex) => {\n          const pointX = dayWidth * dayIndex,\n                pointY = (oneRepMax.maxGraph - day.oneRepMax) * graphSize.height / oneRepMax.valueHeight;\n          let path = \"\";\n\n          if (dayIndex === 0) {\n            path = \"M0,\";\n          } else if (dayIndex === days.length - 1) {\n            path = \"L\" + graphSize.width + \",\";\n          } else {\n            path = \"L\" + (pointX + dayWidth / 2) + \",\";\n          }\n\n          path += pointY;\n          return path;\n        }).join(\" \");\n        const bars = {};\n        bars.weight = {};\n        bars.weight.minValue = Math.min(...days.flatMap(day => day.setWeights));\n        bars.weight.maxValue = Math.max(...days.flatMap(day => day.setWeights));\n        bars.weight.valueHeight = bars.weight.maxValue - bars.weight.minValue;\n        const weightBars = days.map((day, dayIndex) => ({\n          weights: day.setWeights.map((weight, weightIndex) => {\n            const xLeft = dayWidth * dayIndex + dayWidth / 2 - barWidth * 3,\n                  barX = xLeft + barWidth * weightIndex,\n                  barHeight = weight * graphSize.weightHeight / bars.weight.maxValue;\n            return \"M\" + barX + \",\" + graphSize.barY + \" L\" + (barX + barWidth) + \",\" + graphSize.barY + \" L\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight) + \" C\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight);\n          })\n        })).flatMap(day => day.weights);\n        bars.reps = {};\n        bars.reps.minValue = Math.min(...days.flatMap(day => day.setReps));\n        bars.reps.maxValue = Math.max(...days.flatMap(day => day.setReps));\n        bars.reps.valueHeight = bars.reps.maxValue - bars.reps.minValue;\n        const repBars = days.map((day, dayIndex) => ({\n          reps: day.setReps.map((rep, repIndex) => {\n            const xLeft = dayWidth * dayIndex + dayWidth / 2 - barWidth * 3,\n                  barX = xLeft + barWidth * repIndex,\n                  barHeight = rep * graphSize.repHeight / bars.reps.maxValue;\n            return \"M\" + barX + \",\" + graphSize.barY + (exercise.hasWeight ? \" L\" + (barX + barWidth) + \",\" + graphSize.barY : \" C\" + barX + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + graphSize.barY) + \" L\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight) + \" C\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY - barHeight);\n          })\n        })).flatMap(day => day.reps);\n        return { ...exercise,\n          graph: {\n            days: days,\n            weightBars: exercise.hasWeight ? weightBars : [],\n            repBars: repBars,\n            oneRepMaxPath: exercise.hasWeight ? oneRepMaxPath : \"\",\n            oneRepMaxPathFill: exercise.hasWeight ? oneRepMaxPath + \" L\" + graphSize.width + \",\" + graphSize.height + \" L0,\" + graphSize.height : \"\"\n          }\n        };\n      });\n      workout.sets = workout.sets.map(workoutSet => ({ ...workoutSet,\n        ...this.getWeights(workoutSet.exercise.maxWeight, workoutSet.exercise),\n        reps: workoutSet.exercise.maxReps || 0,\n        weight: workoutSet.exercise.maxWeight || 0,\n        exercise: exercises.find(exercise => exercise.name === workoutSet.exercise.name)\n      }));\n      this.setState({\n        workout: workout,\n        exercises: exercises,\n        isLoading: false\n      });\n    });\n    let Util = {};\n\n    Util.base64 = function (mimeType, base64) {\n      return \"data:\" + mimeType + \";base64,\" + base64;\n    };\n\n    this.video = document.createElement(\"video\");\n    this.video.setAttribute(\"loop\", \"\");\n    let source = document.createElement(\"source\");\n    source.src = \"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\";\n    source.type = \"video/webm\";\n    this.video.appendChild(source);\n    let source2 = document.createElement(\"source\");\n    source2.src = \"data:video/mp4;AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==\";\n    source2.type = \"video/mp4\";\n    this.video.appendChild(source2);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"Loading\",\n          src: loadingImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 5\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pageContainer\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"horizontalContainer\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"Workout \", this.state.workout.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"headerButton\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 24 24\",\n              className: \"workoutAction\",\n              onClick: this.saveActivity,\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"setsContainer\",\n          children: this.state.workout.sets.map((workoutSet, setIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"setContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setHeader\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"setNameContainer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"header\",\n                    children: /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: workoutSet.exercise.name,\n                      onChange: this.changeExercise(setIndex),\n                      children: this.state.exercises.map((exercise, exerciseIndex) => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: exercise.name,\n                        children: exercise.name\n                      }, exerciseIndex, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 436,\n                        columnNumber: 14\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 432,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subHeader\",\n                    children: workoutSet.exercise.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"setNumberContainer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: setIndex + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: this.state.workout.sets.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 446,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"setDataContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"horizontalContainer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dataButton\",\n                    onClick: () => this.editReps(setIndex, workoutSet.reps - 1),\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dataValue\",\n                    children: workoutSet.reps\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dataButton\",\n                    onClick: () => this.editReps(setIndex, workoutSet.reps + 1),\n                    children: \"+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 454,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 10\n                }, this), workoutSet.exercise.hasWeight ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"horizontalContainer\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has2.5\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 2.5),\n                    children: \"2.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has5\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 5),\n                    children: \"5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has10\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 10),\n                    children: \"10\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has25\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 25),\n                    children: \"25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has35\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 35),\n                    children: \"35\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `weightButton ${workoutSet[\"has45\"] ? \"active\" : \"\"}`,\n                    onClick: () => this.editWeight(setIndex, 45),\n                    children: \"45\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 10\n                }, this) : \"\", workoutSet.exercise.hasWeight ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"horizontalContainer\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"subHeader\",\n                    children: [workoutSet.weight, \" lbs\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 10\n                }, this) : \"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"graphContainer\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 350 200\",\n                  className: \"workoutGraph\",\n                  children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n                    children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n                      spreadMethod: \"pad\",\n                      id: \"oneRepMaxGradient\",\n                      x1: \"0%\",\n                      y1: \"100%\",\n                      x2: \"0%\",\n                      y2: \"0%\",\n                      children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n                        offset: \"0%\",\n                        style: {\n                          stopColor: \"rgb(255, 255, 255)\",\n                          stopOpacity: 1\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 481,\n                        columnNumber: 13\n                      }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n                        offset: \"100%\",\n                        style: {\n                          stopColor: \"rgb(202 236 251)\",\n                          stopOpacity: 1\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 482,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 11\n                  }, this), workoutSet.exercise.graph.oneRepMaxPath ? /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"stroke\",\n                      d: workoutSet.exercise.graph.oneRepMaxPath\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"fill\",\n                      d: workoutSet.exercise.graph.oneRepMaxPathFill,\n                      fill: \"url(#oneRepMaxGradient)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 490,\n                      columnNumber: 12\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 11\n                  }, this) : \"\", /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: workoutSet.exercise.graph.weightBars.map((path, barIndex) => /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"weightBar\",\n                      d: path\n                    }, barIndex, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 12\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"g\", {\n                    children: workoutSet.exercise.graph.repBars.map((path, barIndex) => /*#__PURE__*/_jsxDEV(\"path\", {\n                      className: \"repBar\",\n                      d: path\n                    }, barIndex, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 506,\n                      columnNumber: 12\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"actionContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"setActionButton\",\n                  onClick: () => this.completeSet(setIndex),\n                  children: workoutSet.isComplete ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 11\n                  }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 10\n                }, this), workoutSet.isComplete || workoutSet.isRest ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"setComplete\",\n                  children: workoutSet.isRest && this.state.countDown.sec > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: (this.state.countDown.min < 10 ? \"0\" : \"\") + this.state.countDown.min\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 533,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: (this.state.countDown.sec < 10 ? \"0\" : \"\") + this.state.countDown.sec\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 534,\n                      columnNumber: 13\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 12\n                  }, this) : workoutSet.isComplete && !workoutSet.isRest ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 539,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 12\n                  }, this) : \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 10\n                }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"setActionButton\",\n                  onClick: () => this.deleteSet(setIndex),\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 24 24\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 12\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"addButton\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => this.addSet(setIndex),\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 8\n            }, this)]\n          }, setIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 7\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default WorkoutActivity;","map":{"version":3,"sources":["/home/bvanbeynum/workout/client/src/components/WorkoutActivity.jsx"],"names":["React","loadingImage","countdownURL","readyURL","WorkoutActivity","Component","constructor","props","countdownAudio","Audio","readyAudio","video","completeSet","setIndex","state","restInterval","clearInterval","setState","workout","sets","map","workoutSet","mapIndex","isComplete","isRest","countDown","min","length","Math","floor","rest","sec","canPlayReady","canPlayCountdown","setInterval","updateTime","play","deleteSet","slice","addSet","exercise","exercises","newSet","reps","maxReps","weight","maxWeight","getWeights","changeExercise","event","find","name","target","value","saveActivity","activity","workoutId","id","runDate","Date","filter","category","fetch","method","headers","credentials","body","JSON","stringify","then","response","json","data","activityComplete","catch","error","console","warn","toast","editReps","newReps","editWeight","newTotal","totalWeight","weights","hasBar","has45","has25","has10","has5","pause","log","isLoading","componentDidMount","graphDates","Set","activities","runDateOnly","days","date","dateIndex","getMonth","getDate","oneRepMax","sort","activityA","activityB","setWeights","setReps","graphSize","width","height","barY","weightHeight","repHeight","dayWidth","barWidth","minValue","maxValue","max","minGraph","maxGraph","valueHeight","oneRepMaxPath","day","dayIndex","pointX","pointY","path","join","bars","flatMap","weightBars","weightIndex","xLeft","barX","barHeight","repBars","rep","repIndex","hasWeight","graph","oneRepMaxPathFill","Util","base64","mimeType","document","createElement","setAttribute","source","src","type","appendChild","source2","render","display","exerciseIndex","stopColor","stopOpacity","barIndex"],"mappings":";;AAAA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,uBAAP;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,MAAMC,eAAN,SAA8BJ,KAAK,CAACK,SAApC,CAA8C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AADkB,SAWnBC,cAXmB,GAWF,IAAIC,KAAJ,CAAUP,YAAV,CAXE;AAAA,SAYnBQ,UAZmB,GAYN,IAAID,KAAJ,CAAUN,QAAV,CAZM;AAAA,SAanBQ,KAbmB,GAaX,EAbW;;AAAA,SAgKnBC,WAhKmB,GAgKLC,QAAQ,IAAI;AAEzB,UAAI,KAAKC,KAAL,CAAWC,YAAf,EAA6B;AAC5BC,QAAAA,aAAa,CAAC,KAAKF,KAAL,CAAWC,YAAZ,CAAb;AACA;;AAED,WAAKE,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAED,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiB,CAACC,UAAD,EAAaC,QAAb,MAA2B,EAChD,GAAGD,UAD6C;AAEhDE,YAAAA,UAAU,EAAED,QAAQ,KAAKT,QAAb,GAAwB,IAAxB,GAA+BQ,UAAU,CAACE,UAFN;AAGhDC,YAAAA,MAAM,EAAEF,QAAQ,KAAKT,QAAb,GAAwB,IAAxB,GAA+B;AAHS,WAA3B,CAAjB;AAFE,SADoB;AAS7BY,QAAAA,SAAS,EAAE;AACVC,UAAAA,GAAG,EAAEb,QAAQ,GAAGK,OAAO,CAACC,IAAR,CAAaQ,MAAxB,GAAiCC,IAAI,CAACC,KAAL,CAAWX,OAAO,CAACC,IAAR,CAAaN,QAAb,EAAuBiB,IAAvB,GAA8B,EAAzC,CAAjC,GAAgF,CAD3E;AAEVC,UAAAA,GAAG,EAAElB,QAAQ,GAAGK,OAAO,CAACC,IAAR,CAAaQ,MAAxB,GAAiCC,IAAI,CAACC,KAAL,CAAWX,OAAO,CAACC,IAAR,CAAaN,QAAb,EAAuBiB,IAAvB,GAA8B,EAAzC,CAAjC,GAAgF,CAF3E;AAGVE,UAAAA,YAAY,EAAE,IAHJ;AAIVC,UAAAA,gBAAgB,EAAE;AAJR;AATkB,OAAhB,CAAd,EAgBA,MAAM;AACL,YAAIlB,YAAY,GAAGmB,WAAW,CAAC,KAAKC,UAAN,EAAkB,IAAlB,CAA9B;AACA,aAAKlB,QAAL,CAAc;AAAEF,UAAAA,YAAY,EAAEA;AAAhB,SAAd;AACA,aAAKJ,KAAL,CAAWyB,IAAX;AACA,OApBD;AAqBA,KA3LkB;;AAAA,SA6LnBC,SA7LmB,GA6LPxB,QAAQ,IAAI;AACvB,WAAKI,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAE,CACL,GAAGD,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmB,CAAnB,EAAsBzB,QAAtB,CADE,EAEL,GAAGK,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmBzB,QAAQ,GAAG,CAA9B,CAFE;AAFE;AADoB,OAAhB,CAAd;AASA,KAvMkB;;AAAA,SAyMnB0B,MAzMmB,GAyMV1B,QAAQ,IAAI;AACpB,YAAM2B,QAAQ,GAAG,KAAK1B,KAAL,CAAW2B,SAAX,CAAqB,CAArB,CAAjB;AAAA,YACCC,MAAM,GAAG;AACRF,QAAAA,QAAQ,EAAEA,QADF;AAERG,QAAAA,IAAI,EAAEH,QAAQ,CAACI,OAAT,IAAoB,CAFlB;AAGRC,QAAAA,MAAM,EAAEL,QAAQ,CAACM,SAAT,IAAsB,CAHtB;AAIR,WAAG,KAAKC,UAAL,CAAgBP,QAAQ,CAACM,SAAT,IAAsB,CAAtC,EAAyCN,QAAzC;AAJK,OADV;AAQA,WAAKvB,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAE,CACL,GAAGD,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmB,CAAnB,EAAsBzB,QAAQ,GAAG,CAAjC,CADE,EAEL6B,MAFK,EAGL,GAAGxB,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmBzB,QAAQ,GAAG,CAA9B,CAHE;AAFE;AADoB,OAAhB,CAAd;AAWA,KA7NkB;;AAAA,SA+NnBmC,cA/NmB,GA+NFnC,QAAQ,IAAIoC,KAAK,IAAI;AACrC,YAAMT,QAAQ,GAAG,KAAK1B,KAAL,CAAW2B,SAAX,CAAqBS,IAArB,CAA0BV,QAAQ,IAAIA,QAAQ,CAACW,IAAT,KAAkBF,KAAK,CAACG,MAAN,CAAaC,KAArE,CAAjB;AAEA,WAAKpC,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAE,CACL,GAAGD,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmB,CAAnB,EAAsBzB,QAAtB,CADE,EAEL,EACC,GAAGK,OAAO,CAACC,IAAR,CAAaN,QAAb,CADJ;AAEC8B,YAAAA,IAAI,EAAEH,QAAQ,CAACI,OAAT,IAAoB,CAF3B;AAGCC,YAAAA,MAAM,EAAEL,QAAQ,CAACM,SAAT,IAAsB,CAH/B;AAICN,YAAAA,QAAQ,EAAEA;AAJX,WAFK,EAQL,GAAGtB,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmBzB,QAAQ,GAAG,CAA9B,CARE;AAFE;AADoB,OAAhB,CAAd;AAeA,KAjPkB;;AAAA,SAmPnByC,YAnPmB,GAmPJ,MAAM;AACpB,YAAMC,QAAQ,GAAG;AAChBC,QAAAA,SAAS,EAAE,KAAK1C,KAAL,CAAWI,OAAX,CAAmBuC,EADd;AAEhBC,QAAAA,OAAO,EAAE,IAAIC,IAAJ,EAFO;AAGhBxC,QAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CACJyC,MADI,CACGvC,UAAU,IAAIA,UAAU,CAACE,UAD5B,EAEJH,GAFI,CAEAC,UAAU,KAAK;AACnBmB,UAAAA,QAAQ,EAAE;AACTiB,YAAAA,EAAE,EAAEpC,UAAU,CAACmB,QAAX,CAAoBiB,EADf;AAETN,YAAAA,IAAI,EAAE9B,UAAU,CAACmB,QAAX,CAAoBW,IAFjB;AAGTU,YAAAA,QAAQ,EAAExC,UAAU,CAACmB,QAAX,CAAoBqB;AAHrB,WADS;AAMnBlB,UAAAA,IAAI,EAAEtB,UAAU,CAACsB,IANE;AAOnBE,UAAAA,MAAM,EAAExB,UAAU,CAACwB;AAPA,SAAL,CAFV;AAHU,OAAjB;AAgBAiB,MAAAA,KAAK,CAAC,oDAAD,EAAuD;AAAEC,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,OAAO,EAAE;AAAC,0BAAgB;AAAjB,SAA3B;AAAiEC,QAAAA,WAAW,EAAE,SAA9E;AAAyFC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEb,UAAAA,QAAQ,EAAEA;AAAZ,SAAf;AAA/F,OAAvD,CAAL,CACEc,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOG,IAAI,IAAI;AACb,aAAKjE,KAAL,CAAWkE,gBAAX;AACA,OAJF,EAKEC,KALF,CAKQC,KAAK,IAAI;AACfC,QAAAA,OAAO,CAACC,IAAR,CAAaF,KAAb;AACA,aAAKpE,KAAL,CAAWuE,KAAX,CAAiB,wBAAjB,EAA2C,IAA3C;AACA,OARF;AASA,KA7QkB;;AAAA,SA+QnBC,QA/QmB,GA+QR,CAAClE,QAAD,EAAWmE,OAAX,KAAuB;AACjC,WAAK/D,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAE,CACL,GAAGD,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmB,CAAnB,EAAsBzB,QAAtB,CADE,EAEL,EACC,GAAGK,OAAO,CAACC,IAAR,CAAaN,QAAb,CADJ;AAEC8B,YAAAA,IAAI,EAAEqC;AAFP,WAFK,EAML,GAAG9D,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmBzB,QAAQ,GAAG,CAA9B,CANE;AAFE;AADoB,OAAhB,CAAd;AAaA,KA7RkB;;AAAA,SA+RnBoE,UA/RmB,GA+RN,CAACpE,QAAD,EAAWgC,MAAX,KAAsB;AAClC,YAAMqC,QAAQ,GAAG,KAAKpE,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwBN,QAAxB,EAAkCgC,MAAlC,IAA4C,KAAK/B,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwBN,QAAxB,EAAkC,QAAQgC,MAA1C,IAAqDA,MAAM,GAAG,CAAV,GAAe,CAAC,CAApE,GAAwEA,MAAM,GAAG,CAA7H,CAAjB;AAEA,WAAK5B,QAAL,CAAc,CAAC;AAACC,QAAAA;AAAD,OAAD,MAAgB;AAC7BA,QAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,UAAAA,IAAI,EAAE,CACL,GAAGD,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmB,CAAnB,EAAsBzB,QAAtB,CADE,EAEL,EACC,GAAGK,OAAO,CAACC,IAAR,CAAaN,QAAb,CADJ;AAEC,eAAG,KAAKkC,UAAL,CAAgBmC,QAAhB,EAA0BhE,OAAO,CAACC,IAAR,CAAaN,QAAb,EAAuB2B,QAAjD,CAFJ;AAGCK,YAAAA,MAAM,EAAEqC;AAHT,WAFK,EAOL,GAAGhE,OAAO,CAACC,IAAR,CAAamB,KAAb,CAAmBzB,QAAQ,GAAG,CAA9B,CAPE;AAFE;AADoB,OAAhB,CAAd;AAcA,KAhTkB;;AAAA,SAkTnBkC,UAlTmB,GAkTN,CAACoC,WAAD,EAAc3C,QAAd,KAA2B;AACvC,UAAI4C,OAAO,GAAG,EAAd;AAEAD,MAAAA,WAAW,IAAI3C,QAAQ,CAAC6C,MAAT,GAAkB,EAAlB,GAAuB,CAAtC;AAEAD,MAAAA,OAAO,CAACE,KAAR,GAAgBH,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAC,MAAAA,OAAO,CAACG,KAAR,GAAgBJ,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAC,MAAAA,OAAO,CAACI,KAAR,GAAgBL,WAAW,IAAI,KAAK,CAApC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,KAAK,CAApB,GAAwB,KAAK,CAA7B,GAAiC,CAAhD;AAEAC,MAAAA,OAAO,CAACK,IAAR,GAAeN,WAAW,IAAI,IAAI,CAAlC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,IAAI,CAAnB,GAAuB,IAAI,CAA3B,GAA+B,CAA9C;AAEAC,MAAAA,OAAO,CAAC,QAAD,CAAP,GAAoBD,WAAW,IAAI,MAAM,CAAzC;AACAA,MAAAA,WAAW,IAAIA,WAAW,IAAI,MAAM,CAArB,GAAyB,MAAM,CAA/B,GAAmC,CAAlD;AAEA,aAAOC,OAAP;AACA,KAvUkB;;AAAA,SAyUnBjD,UAzUmB,GAyUN,MAAM;AAClB,UAAIJ,GAAG,GAAG,KAAKjB,KAAL,CAAWW,SAAX,CAAqBM,GAA/B;AAAA,UACCL,GAAG,GAAG,KAAKZ,KAAL,CAAWW,SAAX,CAAqBC,GAD5B;;AAGA,UAAIK,GAAG,GAAG,CAAV,EAAa;AACZA,QAAAA,GAAG;AACH,OAFD,MAGK,IAAIL,GAAG,GAAG,CAAV,EAAa;AACjBA,QAAAA,GAAG;AACHK,QAAAA,GAAG,GAAG,EAAN;AACA;;AAED,UAAIA,GAAG,IAAI,CAAP,IAAYL,GAAG,IAAI,CAAvB,EAA0B;AACzB;AACA,YAAI,KAAKZ,KAAL,CAAWC,YAAf,EAA6B;AAC5BC,UAAAA,aAAa,CAAC,KAAKF,KAAL,CAAWC,YAAZ,CAAb;AACA;;AAED,aAAKE,QAAL,CAAc,CAAC;AAACC,UAAAA;AAAD,SAAD,MAAgB;AAC7BA,UAAAA,OAAO,EAAE,EACR,GAAGA,OADK;AAERC,YAAAA,IAAI,EAAED,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBC,UAAU,KAAK,EACrC,GAAGA,UADkC;AAErCG,cAAAA,MAAM,EAAE;AAF6B,aAAL,CAA3B;AAFE;AADoB,SAAhB,CAAd;AAUA,aAAKb,KAAL,CAAW+E,KAAX;AACA,OAjBD,MAkBK,IAAI,KAAK5E,KAAL,CAAWW,SAAX,CAAqBO,YAArB,IAAqCN,GAAG,IAAI,CAA5C,IAAiDK,GAAG,IAAI,EAAxD,IAA8DA,GAAG,GAAG,EAAxE,EAA4E;AAChF6C,QAAAA,OAAO,CAACe,GAAR,CAAY,OAAZ,EADgF,CAEhF;;AACA,aAAKjF,UAAL,CAAgB0B,IAAhB;AACA,aAAKnB,QAAL,CAAc,CAAC;AAACQ,UAAAA;AAAD,SAAD,MAAkB;AAC/BA,UAAAA,SAAS,EAAE,EACV,GAAGA,SADO;AAEVO,YAAAA,YAAY,EAAE;AAFJ;AADoB,SAAlB,CAAd;AAMA,OAVI,MAWA,IAAI,KAAKlB,KAAL,CAAWW,SAAX,CAAqBQ,gBAArB,IAAyCP,GAAG,IAAI,CAAhD,IAAqDK,GAAG,IAAI,CAAhE,EAAmE;AACvE6C,QAAAA,OAAO,CAACe,GAAR,CAAY,WAAZ,EADuE,CAEvE;;AACA,aAAKnF,cAAL,CAAoB4B,IAApB;AACA,aAAKnB,QAAL,CAAc,CAAC;AAACQ,UAAAA;AAAD,SAAD,MAAkB;AAC/BA,UAAAA,SAAS,EAAE,EACV,GAAGA,SADO;AAEVQ,YAAAA,gBAAgB,EAAE;AAFR;AADoB,SAAlB,CAAd;AAMA;;AAED,WAAKhB,QAAL,CAAc,CAAC;AAACQ,QAAAA;AAAD,OAAD,MAAkB;AAC/BA,QAAAA,SAAS,EAAE,EACV,GAAGA,SADO;AAEVC,UAAAA,GAAG,EAAEA,GAFK;AAGVK,UAAAA,GAAG,EAAEA;AAHK;AADoB,OAAlB,CAAd;AAQA,KAtYkB;;AAGlB,SAAKjB,KAAL,GAAa;AACZ8E,MAAAA,SAAS,EAAE,IADC;AAEZnE,MAAAA,SAAS,EAAE;AAAEC,QAAAA,GAAG,EAAE,CAAP;AAAUK,QAAAA,GAAG,EAAE;AAAf,OAFC;AAGZb,MAAAA,OAAO,EAAE;AAAEuC,QAAAA,EAAE,EAAE,KAAKlD,KAAL,CAAWiD;AAAjB;AAHG,KAAb;AAMA;;AAMDqC,EAAAA,iBAAiB,GAAG;AAEnB/B,IAAAA,KAAK,CAAC,2DAA2D,KAAKhD,KAAL,CAAWI,OAAX,CAAmBuC,EAA/E,EAAmF;AAAEQ,MAAAA,WAAW,EAAE;AAAf,KAAnF,CAAL,CACEI,IADF,CACOC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADnB,EAEEF,IAFF,CAEOG,IAAI,IAAI;AACb,YAAMtD,OAAO,GAAGsD,IAAI,CAACtD,OAArB;AAEA,UAAIuB,SAAS,GAAG+B,IAAI,CAAC/B,SAAL,CAAerB,GAAf,CAAmBoB,QAAQ,IAAI;AAC9C,cAAMsD,UAAU,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQvD,QAAQ,CAACwD,UAAT,CAAoB5E,GAApB,CAAwBmC,QAAQ,IAAI,CAAE,IAAII,IAAJ,CAASJ,QAAQ,CAAC0C,WAAlB,CAAtC,CAAR,CAAJ,CAAnB;AAEA,cAAMC,IAAI,GAAGJ,UAAU,CAAC1E,GAAX,CAAe,CAAC+E,IAAD,EAAOC,SAAP,MAAsB;AACjDD,UAAAA,IAAI,EAAI,IAAIxC,IAAJ,CAASwC,IAAT,CAAD,CAAiBE,QAAjB,KAA8B,CAA/B,GAAoC,GAApC,GAA2C,IAAI1C,IAAJ,CAASwC,IAAT,CAAD,CAAiBG,OAAjB,EADC;AAEjDC,UAAAA,SAAS,EAAE/D,QAAQ,CAACwD,UAAT,CACTpC,MADS,CACFL,QAAQ,IAAI,CAAE,IAAII,IAAJ,CAASJ,QAAQ,CAAC0C,WAAlB,CAAF,KAAsCE,IADhD,EAET/E,GAFS,CAELmC,QAAQ,IAAIA,QAAQ,CAACgD,SAFhB,EAGTC,IAHS,CAGJ,CAACC,SAAD,EAAYC,SAAZ,KAA0BA,SAAS,GAAGD,SAHlC,EAG6C,CAH7C,CAFsC;AAMjDE,UAAAA,UAAU,EAAEnE,QAAQ,CAACwD,UAAT,CACVpC,MADU,CACHL,QAAQ,IAAI,CAAE,IAAII,IAAJ,CAASJ,QAAQ,CAAC0C,WAAlB,CAAF,KAAsCE,IAD/C,EAEV/E,GAFU,CAENmC,QAAQ,IAAIA,QAAQ,CAACV,MAFf,CANqC;AASjD+D,UAAAA,OAAO,EAAEpE,QAAQ,CAACwD,UAAT,CACPpC,MADO,CACAL,QAAQ,IAAI,CAAE,IAAII,IAAJ,CAASJ,QAAQ,CAAC0C,WAAlB,CAAF,KAAsCE,IADlD,EAEP/E,GAFO,CAEHmC,QAAQ,IAAIA,QAAQ,CAACZ,IAFlB;AATwC,SAAtB,CAAf,CAAb;AAcA,cAAMkE,SAAS,GAAG;AAAEC,UAAAA,KAAK,EAAE,GAAT;AAAcC,UAAAA,MAAM,EAAE,GAAtB;AAA2BC,UAAAA,IAAI,EAAE,GAAjC;AAAsCC,UAAAA,YAAY,EAAE,EAApD;AAAwDC,UAAAA,SAAS,EAAE;AAAnE,SAAlB;AAAA,cACCC,QAAQ,GAAGN,SAAS,CAACC,KAAV,GAAkBhB,UAAU,CAACnE,MADzC;AAAA,cAECyF,QAAQ,GAAG,CAFZ;AAIA,cAAMb,SAAS,GAAG,EAAlB;AACAA,QAAAA,SAAS,CAACc,QAAV,GAAqBzF,IAAI,CAACF,GAAL,CAAS,GAAGwE,IAAI,CAAC9E,GAAL,CAAS+E,IAAI,IAAIA,IAAI,CAACI,SAAtB,CAAZ,CAArB;AACAA,QAAAA,SAAS,CAACe,QAAV,GAAqB1F,IAAI,CAAC2F,GAAL,CAAS,GAAGrB,IAAI,CAAC9E,GAAL,CAAS+E,IAAI,IAAIA,IAAI,CAACI,SAAtB,CAAZ,CAArB;AACAA,QAAAA,SAAS,CAACiB,QAAV,GAAqBjB,SAAS,CAACc,QAAV,GAAsBd,SAAS,CAACc,QAAV,GAAqB,EAAhE;AACAd,QAAAA,SAAS,CAACkB,QAAV,GAAqBlB,SAAS,CAACe,QAAV,GAAsBf,SAAS,CAACe,QAAV,GAAqB,GAAhE;AACAf,QAAAA,SAAS,CAACmB,WAAV,GAAwBnB,SAAS,CAACkB,QAAV,GAAqBlB,SAAS,CAACiB,QAAvD;AAEA,cAAMG,aAAa,GAAGzB,IAAI,CAAC9E,GAAL,CAAS,CAACwG,GAAD,EAAMC,QAAN,KAAmB;AACjD,gBAAMC,MAAM,GAAIX,QAAQ,GAAGU,QAA3B;AAAA,gBACCE,MAAM,GAAI,CAACxB,SAAS,CAACkB,QAAV,GAAqBG,GAAG,CAACrB,SAA1B,IAAuCM,SAAS,CAACE,MAAlD,GAA4DR,SAAS,CAACmB,WADhF;AAGA,cAAIM,IAAI,GAAG,EAAX;;AAEA,cAAIH,QAAQ,KAAK,CAAjB,EAAoB;AACnBG,YAAAA,IAAI,GAAG,KAAP;AACA,WAFD,MAGK,IAAIH,QAAQ,KAAK3B,IAAI,CAACvE,MAAL,GAAc,CAA/B,EAAkC;AACtCqG,YAAAA,IAAI,GAAG,MAAMnB,SAAS,CAACC,KAAhB,GAAwB,GAA/B;AACA,WAFI,MAGA;AACJkB,YAAAA,IAAI,GAAG,OAAOF,MAAM,GAAIX,QAAQ,GAAG,CAA5B,IAAkC,GAAzC;AACA;;AAEDa,UAAAA,IAAI,IAAID,MAAR;AAEA,iBAAOC,IAAP;AAEC,SApBoB,EAoBlBC,IApBkB,CAoBb,GApBa,CAAtB;AAsBA,cAAMC,IAAI,GAAG,EAAb;AAEAA,QAAAA,IAAI,CAACrF,MAAL,GAAc,EAAd;AACAqF,QAAAA,IAAI,CAACrF,MAAL,CAAYwE,QAAZ,GAAuBzF,IAAI,CAACF,GAAL,CAAS,GAAGwE,IAAI,CAACiC,OAAL,CAAaP,GAAG,IAAIA,GAAG,CAACjB,UAAxB,CAAZ,CAAvB;AACAuB,QAAAA,IAAI,CAACrF,MAAL,CAAYyE,QAAZ,GAAuB1F,IAAI,CAAC2F,GAAL,CAAS,GAAGrB,IAAI,CAACiC,OAAL,CAAaP,GAAG,IAAIA,GAAG,CAACjB,UAAxB,CAAZ,CAAvB;AACAuB,QAAAA,IAAI,CAACrF,MAAL,CAAY6E,WAAZ,GAA0BQ,IAAI,CAACrF,MAAL,CAAYyE,QAAZ,GAAuBY,IAAI,CAACrF,MAAL,CAAYwE,QAA7D;AAEA,cAAMe,UAAU,GAAGlC,IAAI,CAAC9E,GAAL,CAAS,CAACwG,GAAD,EAAMC,QAAN,MAAoB;AAC/CzC,UAAAA,OAAO,EAAEwC,GAAG,CAACjB,UAAJ,CAAevF,GAAf,CAAmB,CAACyB,MAAD,EAASwF,WAAT,KAAyB;AACpD,kBAAMC,KAAK,GAAKnB,QAAQ,GAAGU,QAAZ,GAAyBV,QAAQ,GAAG,CAArC,GAA4CC,QAAQ,GAAG,CAArE;AAAA,kBACCmB,IAAI,GAAGD,KAAK,GAAIlB,QAAQ,GAAGiB,WAD5B;AAAA,kBAECG,SAAS,GAAI3F,MAAM,GAAGgE,SAAS,CAACI,YAApB,GAAoCiB,IAAI,CAACrF,MAAL,CAAYyE,QAF7D;AAIA,mBAAO,MAAMiB,IAAN,GAAa,GAAb,GAAmB1B,SAAS,CAACG,IAA7B,GACN,IADM,IACEuB,IAAI,GAAGnB,QADT,IACqB,GADrB,GAC2BP,SAAS,CAACG,IADrC,GAEN,IAFM,IAEEuB,IAAI,GAAGnB,QAFT,IAEqB,GAFrB,IAE4BP,SAAS,CAACG,IAAV,GAAiBwB,SAF7C,IAGN,IAHM,IAGED,IAAI,GAAGnB,QAHT,IAGqB,GAHrB,IAG4BP,SAAS,CAACG,IAAV,GAAiBwB,SAAjB,GAA6B,CAHzD,IAG8D,GAH9D,GAGoED,IAHpE,GAG2E,GAH3E,IAGkF1B,SAAS,CAACG,IAAV,GAAiBwB,SAAjB,GAA6B,CAH/G,IAGoH,GAHpH,GAG0HD,IAH1H,GAGiI,GAHjI,IAGwI1B,SAAS,CAACG,IAAV,GAAiBwB,SAHzJ,CAAP;AAIA,WATQ;AADsC,SAApB,CAAT,EAWfL,OAXe,CAWPP,GAAG,IAAIA,GAAG,CAACxC,OAXJ,CAAnB;AAaA8C,QAAAA,IAAI,CAACvF,IAAL,GAAY,EAAZ;AACAuF,QAAAA,IAAI,CAACvF,IAAL,CAAU0E,QAAV,GAAqBzF,IAAI,CAACF,GAAL,CAAS,GAAGwE,IAAI,CAACiC,OAAL,CAAaP,GAAG,IAAIA,GAAG,CAAChB,OAAxB,CAAZ,CAArB;AACAsB,QAAAA,IAAI,CAACvF,IAAL,CAAU2E,QAAV,GAAqB1F,IAAI,CAAC2F,GAAL,CAAS,GAAGrB,IAAI,CAACiC,OAAL,CAAaP,GAAG,IAAIA,GAAG,CAAChB,OAAxB,CAAZ,CAArB;AACAsB,QAAAA,IAAI,CAACvF,IAAL,CAAU+E,WAAV,GAAwBQ,IAAI,CAACvF,IAAL,CAAU2E,QAAV,GAAqBY,IAAI,CAACvF,IAAL,CAAU0E,QAAvD;AAEA,cAAMoB,OAAO,GAAGvC,IAAI,CAAC9E,GAAL,CAAS,CAACwG,GAAD,EAAMC,QAAN,MAAoB;AAC5ClF,UAAAA,IAAI,EAAEiF,GAAG,CAAChB,OAAJ,CAAYxF,GAAZ,CAAgB,CAACsH,GAAD,EAAMC,QAAN,KAAmB;AACxC,kBAAML,KAAK,GAAKnB,QAAQ,GAAGU,QAAZ,GAAyBV,QAAQ,GAAG,CAArC,GAA4CC,QAAQ,GAAG,CAArE;AAAA,kBACCmB,IAAI,GAAGD,KAAK,GAAIlB,QAAQ,GAAGuB,QAD5B;AAAA,kBAECH,SAAS,GAAIE,GAAG,GAAG7B,SAAS,CAACK,SAAjB,GAA8BgB,IAAI,CAACvF,IAAL,CAAU2E,QAFrD;AAIA,mBAAO,MAAMiB,IAAN,GAAa,GAAb,GAAmB1B,SAAS,CAACG,IAA7B,IACLxE,QAAQ,CAACoG,SAAT,GACA,QAAQL,IAAI,GAAGnB,QAAf,IAA2B,GAA3B,GAAiCP,SAAS,CAACG,IAD3C,GAEE,OAAOuB,IAAP,GAAc,GAAd,IAAqB1B,SAAS,CAACG,IAAV,GAAiB,CAAtC,IAA2C,GAA3C,IAAkDuB,IAAI,GAAGnB,QAAzD,IAAqE,GAArE,IAA4EP,SAAS,CAACG,IAAV,GAAiB,CAA7F,IAAkG,GAAlG,IAAyGuB,IAAI,GAAGnB,QAAhH,IAA4H,GAA5H,GAAkIP,SAAS,CAACG,IAHzI,IAKN,IALM,IAKEuB,IAAI,GAAGnB,QALT,IAKqB,GALrB,IAK4BP,SAAS,CAACG,IAAV,GAAiBwB,SAL7C,IAMN,IANM,IAMED,IAAI,GAAGnB,QANT,IAMqB,GANrB,IAM4BP,SAAS,CAACG,IAAV,GAAiBwB,SAAjB,GAA6B,CANzD,IAM8D,GAN9D,GAMoED,IANpE,GAM2E,GAN3E,IAMkF1B,SAAS,CAACG,IAAV,GAAiBwB,SAAjB,GAA6B,CAN/G,IAMoH,GANpH,GAM0HD,IAN1H,GAMiI,GANjI,IAMwI1B,SAAS,CAACG,IAAV,GAAgBwB,SANxJ,CAAP;AAOA,WAZK;AADsC,SAApB,CAAT,EAcZL,OAdY,CAcJP,GAAG,IAAIA,GAAG,CAACjF,IAdP,CAAhB;AAgBA,eAAO,EACN,GAAGH,QADG;AAENqG,UAAAA,KAAK,EAAE;AACN3C,YAAAA,IAAI,EAAEA,IADA;AAENkC,YAAAA,UAAU,EAAE5F,QAAQ,CAACoG,SAAT,GAAqBR,UAArB,GAAkC,EAFxC;AAGNK,YAAAA,OAAO,EAAEA,OAHH;AAINd,YAAAA,aAAa,EAAEnF,QAAQ,CAACoG,SAAT,GAAqBjB,aAArB,GAAqC,EAJ9C;AAKNmB,YAAAA,iBAAiB,EAAEtG,QAAQ,CAACoG,SAAT,GAAqBjB,aAAa,GAAG,IAAhB,GAAuBd,SAAS,CAACC,KAAjC,GAAyC,GAAzC,GAA+CD,SAAS,CAACE,MAAzD,GAAkE,MAAlE,GAA2EF,SAAS,CAACE,MAA1G,GAAmH;AALhI;AAFD,SAAP;AAUA,OArGe,CAAhB;AAuGA7F,MAAAA,OAAO,CAACC,IAAR,GAAeD,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBC,UAAU,KAAK,EAC9C,GAAGA,UAD2C;AAE9C,WAAG,KAAK0B,UAAL,CAAgB1B,UAAU,CAACmB,QAAX,CAAoBM,SAApC,EAA+CzB,UAAU,CAACmB,QAA1D,CAF2C;AAG9CG,QAAAA,IAAI,EAAEtB,UAAU,CAACmB,QAAX,CAAoBI,OAApB,IAA+B,CAHS;AAI9CC,QAAAA,MAAM,EAAExB,UAAU,CAACmB,QAAX,CAAoBM,SAApB,IAAiC,CAJK;AAK9CN,QAAAA,QAAQ,EAAEC,SAAS,CAACS,IAAV,CAAeV,QAAQ,IAAIA,QAAQ,CAACW,IAAT,KAAkB9B,UAAU,CAACmB,QAAX,CAAoBW,IAAjE;AALoC,OAAL,CAA3B,CAAf;AAQA,WAAKlC,QAAL,CAAc;AACbC,QAAAA,OAAO,EAAEA,OADI;AAEbuB,QAAAA,SAAS,EAAEA,SAFE;AAGbmD,QAAAA,SAAS,EAAE;AAHE,OAAd;AAKA,KAzHF;AA2HA,QAAImD,IAAI,GAAC,EAAT;;AACAA,IAAAA,IAAI,CAACC,MAAL,GAAc,UAASC,QAAT,EAAmBD,MAAnB,EAA2B;AACxC,aAAO,UAAUC,QAAV,GAAqB,UAArB,GAAkCD,MAAzC;AACA,KAFD;;AAIA,SAAKrI,KAAL,GAAauI,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AACA,SAAKxI,KAAL,CAAWyI,YAAX,CAAwB,MAAxB,EAAgC,EAAhC;AAEA,QAAIC,MAAM,GAAGH,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACAE,IAAAA,MAAM,CAACC,GAAP,GAAa,iRAAb;AACAD,IAAAA,MAAM,CAACE,IAAP,GAAc,YAAd;AACA,SAAK5I,KAAL,CAAW6I,WAAX,CAAuBH,MAAvB;AAEA,QAAII,OAAO,GAAGP,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAd;AACAM,IAAAA,OAAO,CAACH,GAAR,GAAc,ykCAAd;AACAG,IAAAA,OAAO,CAACF,IAAR,GAAe,WAAf;AACA,SAAK5I,KAAL,CAAW6I,WAAX,CAAuBC,OAAvB;AAEA;;AA0ODC,EAAAA,MAAM,GAAG;AACR,wBACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA,gBAEA,KAAK5I,KAAL,CAAW8E,SAAX,gBACC;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA,gCACC;AAAK,UAAA,GAAG,EAAC,SAAT;AAAmB,UAAA,GAAG,EAAE3F;AAAxB;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAMC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACC;AAAA,mCAAc,KAAKa,KAAL,CAAWI,OAAX,CAAmBiC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAGC;AAAK,YAAA,SAAS,EAAC,cAAf;AAAA,mCACC;AAAK,cAAA,KAAK,EAAC,4BAAX;AAAwC,cAAA,OAAO,EAAC,WAAhD;AAA4D,cAAA,SAAS,EAAC,eAAtE;AAAsF,cAAA,OAAO,EAAG,KAAKG,YAArG;AAAA,qCACC;AAAM,gBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAHD;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAWC;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,oBAEA,KAAKxC,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwBC,GAAxB,CAA4B,CAACC,UAAD,EAAaR,QAAb,kBAC3B;AAAoB,YAAA,KAAK,EAAE;AAAE8I,cAAAA,OAAO,EAAE;AAAX,aAA3B;AAAA,oCACC;AAAK,cAAA,SAAS,EAAC,cAAf;AAAA,sCAEC;AAAK,gBAAA,SAAS,EAAC,WAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,kBAAf;AAAA,0CACC;AAAK,oBAAA,SAAS,EAAC,QAAf;AAAA,2CACC;AAAQ,sBAAA,KAAK,EAAGtI,UAAU,CAACmB,QAAX,CAAoBW,IAApC;AAA2C,sBAAA,QAAQ,EAAG,KAAKH,cAAL,CAAoBnC,QAApB,CAAtD;AAAA,gCAEC,KAAKC,KAAL,CAAW2B,SAAX,CAAqBrB,GAArB,CAAyB,CAACoB,QAAD,EAAWoH,aAAX,kBACxB;AAA4B,wBAAA,KAAK,EAAEpH,QAAQ,CAACW,IAA5C;AAAA,kCAAmDX,QAAQ,CAACW;AAA5D,yBAAayG,aAAb;AAAA;AAAA;AAAA;AAAA,8BADD;AAFD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BADD,eAUC;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,8BAA6BvI,UAAU,CAACmB,QAAX,CAAoBqB;AAAjD;AAAA;AAAA;AAAA;AAAA,0BAVD;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAcC;AAAK,kBAAA,SAAS,EAAC,oBAAf;AAAA,0CACC;AAAA,8BAAOhD,QAAQ,GAAG;AAAlB;AAAA;AAAA;AAAA;AAAA,0BADD,eAEC;AAAA,8BAAO,KAAKC,KAAL,CAAWI,OAAX,CAAmBC,IAAnB,CAAwBQ;AAA/B;AAAA;AAAA;AAAA;AAAA,0BAFD;AAAA;AAAA;AAAA;AAAA;AAAA,wBAdD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD,eAsBC;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,0CACC;AAAK,oBAAA,SAAS,EAAC,YAAf;AAA4B,oBAAA,OAAO,EAAG,MAAM,KAAKoD,QAAL,CAAclE,QAAd,EAAwBQ,UAAU,CAACsB,IAAX,GAAkB,CAA1C,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,eAEC;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,8BAA6BtB,UAAU,CAACsB;AAAxC;AAAA;AAAA;AAAA;AAAA,0BAFD,eAGC;AAAK,oBAAA,SAAS,EAAC,YAAf;AAA4B,oBAAA,OAAO,EAAG,MAAM,KAAKoC,QAAL,CAAclE,QAAd,EAAwBQ,UAAU,CAACsB,IAAX,GAAkB,CAA1C,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHD;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,EAOCtB,UAAU,CAACmB,QAAX,CAAoBoG,SAApB,gBACA;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,0CACC;AAAK,oBAAA,SAAS,EAAG,gBAAgBvH,UAAU,CAAC,QAAD,CAAV,GAAuB,QAAvB,GAAkC,EAAI,EAAvE;AAA0E,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,GAA1B,CAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,eAEC;AAAK,oBAAA,SAAS,EAAG,gBAAgBQ,UAAU,CAAC,MAAD,CAAV,GAAqB,QAArB,GAAgC,EAAI,EAArE;AAAwE,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,CAA1B,CAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFD,eAGC;AAAK,oBAAA,SAAS,EAAG,gBAAgBQ,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAyE,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,EAA1B,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHD,eAIC;AAAK,oBAAA,SAAS,EAAG,gBAAgBQ,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAyE,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,EAA1B,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAJD,eAKC;AAAK,oBAAA,SAAS,EAAG,gBAAgBQ,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAyE,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,EAA1B,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALD,eAMC;AAAK,oBAAA,SAAS,EAAG,gBAAgBQ,UAAU,CAAC,OAAD,CAAV,GAAsB,QAAtB,GAAiC,EAAI,EAAtE;AAAyE,oBAAA,OAAO,EAAG,MAAM,KAAK4D,UAAL,CAAgBpE,QAAhB,EAA0B,EAA1B,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAND;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,GASE,EAhBH,EAmBCQ,UAAU,CAACmB,QAAX,CAAoBoG,SAApB,gBACA;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,yCACC;AAAK,oBAAA,SAAS,EAAC,WAAf;AAAA,+BAA6BvH,UAAU,CAACwB,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,wBADA,GAIE,EAvBH;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtBD,eAiDC;AAAK,gBAAA,SAAS,EAAC,gBAAf;AAAA,uCACC;AAAK,kBAAA,OAAO,EAAC,aAAb;AAA2B,kBAAA,SAAS,EAAC,cAArC;AAAA,0CACC;AAAA,2CACC;AAAgB,sBAAA,YAAY,EAAC,KAA7B;AAAmC,sBAAA,EAAE,EAAC,mBAAtC;AAA0D,sBAAA,EAAE,EAAC,IAA7D;AAAkE,sBAAA,EAAE,EAAC,MAArE;AAA4E,sBAAA,EAAE,EAAC,IAA/E;AAAoF,sBAAA,EAAE,EAAC,IAAvF;AAAA,8CACC;AAAM,wBAAA,MAAM,EAAC,IAAb;AAAkB,wBAAA,KAAK,EAAE;AAACgH,0BAAAA,SAAS,EAAE,oBAAZ;AAAkCC,0BAAAA,WAAW,EAAE;AAA/C;AAAzB;AAAA;AAAA;AAAA;AAAA,8BADD,eAEC;AAAM,wBAAA,MAAM,EAAC,MAAb;AAAoB,wBAAA,KAAK,EAAE;AAACD,0BAAAA,SAAS,EAAE,kBAAZ;AAAgCC,0BAAAA,WAAW,EAAE;AAA7C;AAA3B;AAAA;AAAA;AAAA;AAAA,8BAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BADD,EASCzI,UAAU,CAACmB,QAAX,CAAoBqG,KAApB,CAA0BlB,aAA1B,gBACA;AAAA,4CACC;AAAM,sBAAA,SAAS,EAAC,QAAhB;AAAyB,sBAAA,CAAC,EAAGtG,UAAU,CAACmB,QAAX,CAAoBqG,KAApB,CAA0BlB;AAAvD;AAAA;AAAA;AAAA;AAAA,4BADD,eAEC;AAAM,sBAAA,SAAS,EAAC,MAAhB;AAAuB,sBAAA,CAAC,EAAGtG,UAAU,CAACmB,QAAX,CAAoBqG,KAApB,CAA0BC,iBAArD;AAAyE,sBAAA,IAAI,EAAC;AAA9E;AAAA;AAAA;AAAA;AAAA,4BAFD;AAAA;AAAA;AAAA;AAAA;AAAA,0BADA,GAKE,EAdH,eAiBC;AAAA,8BAEAzH,UAAU,CAACmB,QAAX,CAAoBqG,KAApB,CAA0BT,UAA1B,CAAqChH,GAArC,CAAyC,CAAC4G,IAAD,EAAO+B,QAAP,kBACxC;AAAuB,sBAAA,SAAS,EAAC,WAAjC;AAA6C,sBAAA,CAAC,EAAG/B;AAAjD,uBAAY+B,QAAZ;AAAA;AAAA;AAAA;AAAA,4BADD;AAFA;AAAA;AAAA;AAAA;AAAA,0BAjBD,eAyBC;AAAA,8BAEA1I,UAAU,CAACmB,QAAX,CAAoBqG,KAApB,CAA0BJ,OAA1B,CAAkCrH,GAAlC,CAAsC,CAAC4G,IAAD,EAAO+B,QAAP,kBACrC;AAAuB,sBAAA,SAAS,EAAC,QAAjC;AAA0C,sBAAA,CAAC,EAAG/B;AAA9C,uBAAY+B,QAAZ;AAAA;AAAA;AAAA;AAAA,4BADD;AAFA;AAAA;AAAA;AAAA;AAAA,0BAzBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,sBAjDD,eAqFC;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,wCACC;AAAK,kBAAA,SAAS,EAAC,iBAAf;AAAiC,kBAAA,OAAO,EAAG,MAAM,KAAKnJ,WAAL,CAAiBC,QAAjB,CAAjD;AAAA,4BAEAQ,UAAU,CAACE,UAAX,gBACC;AAAK,oBAAA,KAAK,EAAC,4BAAX;AAAwC,oBAAA,OAAO,EAAC,WAAhD;AAAA,2CACC;AAAM,sBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BADD,gBAKC;AAAK,oBAAA,KAAK,EAAC,4BAAX;AAAwC,oBAAA,OAAO,EAAC,WAAhD;AAAA,2CACC;AAAM,sBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AAPD;AAAA;AAAA;AAAA;AAAA,wBADD,EAeCF,UAAU,CAACE,UAAX,IAAyBF,UAAU,CAACG,MAApC,gBACA;AAAK,kBAAA,SAAS,EAAC,aAAf;AAAA,4BAECH,UAAU,CAACG,MAAX,IAAqB,KAAKV,KAAL,CAAWW,SAAX,CAAqBM,GAArB,GAA2B,CAAhD,gBACC;AAAA,4CACC;AAAA,gCAAO,CAAC,KAAKjB,KAAL,CAAWW,SAAX,CAAqBC,GAArB,GAA2B,EAA3B,GAAgC,GAAhC,GAAsC,EAAvC,IAA6C,KAAKZ,KAAL,CAAWW,SAAX,CAAqBC;AAAzE;AAAA;AAAA;AAAA;AAAA,4BADD,eAEC;AAAA,gCAAO,CAAC,KAAKZ,KAAL,CAAWW,SAAX,CAAqBM,GAArB,GAA2B,EAA3B,GAAgC,GAAhC,GAAsC,EAAvC,IAA6C,KAAKjB,KAAL,CAAWW,SAAX,CAAqBM;AAAzE;AAAA;AAAA;AAAA;AAAA,4BAFD;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,GAMAV,UAAU,CAACE,UAAX,IAAyB,CAACF,UAAU,CAACG,MAArC,gBACC;AAAK,oBAAA,KAAK,EAAC,4BAAX;AAAwC,oBAAA,OAAO,EAAC,WAAhD;AAAA,2CACC;AAAM,sBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,0BADD,GAIE;AAZH;AAAA;AAAA;AAAA;AAAA,wBADA,GAgBE,EA/BH,eAkCC;AAAK,kBAAA,SAAS,EAAC,iBAAf;AAAiC,kBAAA,OAAO,EAAG,MAAM,KAAKa,SAAL,CAAexB,QAAf,CAAjD;AAAA,yCACC;AAAK,oBAAA,KAAK,EAAC,4BAAX;AAAwC,oBAAA,OAAO,EAAC,WAAhD;AAAA,2CACC;AAAM,sBAAA,CAAC,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,wBAlCD;AAAA;AAAA;AAAA;AAAA;AAAA,sBArFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAiIC;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,qCACC;AAAK,gBAAA,OAAO,EAAG,MAAM,KAAK0B,MAAL,CAAY1B,QAAZ,CAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,oBAjID;AAAA,aAAUA,QAAV;AAAA;AAAA;AAAA;AAAA,kBADD;AAFA;AAAA;AAAA;AAAA;AAAA,gBAXD;AAAA;AAAA;AAAA;AAAA;AAAA;AARD;AAAA;AAAA;AAAA;AAAA,YADD;AAmKA;;AA7iB4C;;AAgjB9C,eAAeT,eAAf","sourcesContent":["// eslint-disable-next-line\n/* global fetch */\n\nimport React from \"react\";\nimport \"./workoutactivity.css\";\nimport loadingImage from \"../media/loading.gif\";\nimport countdownURL from \"../media/countdown.mp3\";\nimport readyURL from \"../media/getready.mp3\";\n\nclass WorkoutActivity extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\tcountDown: { min: 0, sec: 0 },\n\t\t\tworkout: { id: this.props.workoutId }\n\t\t};\n\t\n\t}\n\t\n\tcountdownAudio = new Audio(countdownURL);\n\treadyAudio = new Audio(readyURL);\n\tvideo = {};\n\t\n\tcomponentDidMount() {\n\t\t\n\t\tfetch(\"http://workout.beynum.com/workout/api/activityload?id=\" + this.state.workout.id, { credentials: \"include\" })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tconst workout = data.workout;\n\t\t\t\t\n\t\t\t\tlet exercises = data.exercises.map(exercise => {\n\t\t\t\t\tconst graphDates = [...new Set(exercise.activities.map(activity => +(new Date(activity.runDateOnly))))];\n\t\t\t\t\t\n\t\t\t\t\tconst days = graphDates.map((date, dateIndex) => ({\n\t\t\t\t\t\tdate: ((new Date(date)).getMonth() + 1) + \"/\" + (new Date(date)).getDate(),\n\t\t\t\t\t\toneRepMax: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.oneRepMax)\n\t\t\t\t\t\t\t.sort((activityA, activityB) => activityB - activityA)[0],\n\t\t\t\t\t\tsetWeights: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.weight),\n\t\t\t\t\t\tsetReps: exercise.activities\n\t\t\t\t\t\t\t.filter(activity => +(new Date(activity.runDateOnly)) === date)\n\t\t\t\t\t\t\t.map(activity => activity.reps)\n\t\t\t\t\t}));\n\t\t\t\t\t\n\t\t\t\t\tconst graphSize = { width: 350, height: 200, barY: 150, weightHeight: 45, repHeight: 100 },\n\t\t\t\t\t\tdayWidth = graphSize.width / graphDates.length,\n\t\t\t\t\t\tbarWidth = 5;\n\t\t\t\t\t\n\t\t\t\t\tconst oneRepMax = {};\n\t\t\t\t\toneRepMax.minValue = Math.min(...days.map(date => date.oneRepMax));\n\t\t\t\t\toneRepMax.maxValue = Math.max(...days.map(date => date.oneRepMax));\n\t\t\t\t\toneRepMax.minGraph = oneRepMax.minValue - (oneRepMax.minValue * .2);\n\t\t\t\t\toneRepMax.maxGraph = oneRepMax.maxValue + (oneRepMax.maxValue * .05);\n\t\t\t\t\toneRepMax.valueHeight = oneRepMax.maxGraph - oneRepMax.minGraph;\n\t\t\t\t\t\n\t\t\t\t\tconst oneRepMaxPath = days.map((day, dayIndex) => {\n\t\t\t\t\t\tconst pointX = (dayWidth * dayIndex),\n\t\t\t\t\t\t\tpointY = ((oneRepMax.maxGraph - day.oneRepMax) * graphSize.height) / oneRepMax.valueHeight;\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet path = \"\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (dayIndex === 0) {\n\t\t\t\t\t\t\tpath = \"M0,\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (dayIndex === days.length - 1) {\n\t\t\t\t\t\t\tpath = \"L\" + graphSize.width + \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tpath = \"L\" + (pointX + (dayWidth / 2)) + \",\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tpath += pointY;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn path;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}).join(\" \");\n\t\t\t\t\t\n\t\t\t\t\tconst bars = {};\n\t\t\t\t\t\n\t\t\t\t\tbars.weight = {};\n\t\t\t\t\tbars.weight.minValue = Math.min(...days.flatMap(day => day.setWeights));\n\t\t\t\t\tbars.weight.maxValue = Math.max(...days.flatMap(day => day.setWeights));\n\t\t\t\t\tbars.weight.valueHeight = bars.weight.maxValue - bars.weight.minValue;\n\t\t\t\t\t\n\t\t\t\t\tconst weightBars = days.map((day, dayIndex) => ({\n\t\t\t\t\t\tweights: day.setWeights.map((weight, weightIndex) => {\n\t\t\t\t\t\t\tconst xLeft = ((dayWidth * dayIndex) + (dayWidth / 2)) - (barWidth * 3),\n\t\t\t\t\t\t\t\tbarX = xLeft + (barWidth * weightIndex),\n\t\t\t\t\t\t\t\tbarHeight = (weight * graphSize.weightHeight) / bars.weight.maxValue;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn \"M\" + barX + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight) + \n\t\t\t\t\t\t\t\t\" C\" + (barX + barWidth) + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight + 8) + \" \" + barX + \",\" + (graphSize.barY + barHeight);\n\t\t\t\t\t\t})\n\t\t\t\t\t})).flatMap(day => day.weights);\n\t\t\t\t\t\n\t\t\t\t\tbars.reps = {};\n\t\t\t\t\tbars.reps.minValue = Math.min(...days.flatMap(day => day.setReps));\n\t\t\t\t\tbars.reps.maxValue = Math.max(...days.flatMap(day => day.setReps));\n\t\t\t\t\tbars.reps.valueHeight = bars.reps.maxValue - bars.reps.minValue;\n\t\t\t\t\t\n\t\t\t\t\tconst repBars = days.map((day, dayIndex) => ({\n\t\t\t\t\t\treps: day.setReps.map((rep, repIndex) => {\n\t\t\t\t\t\t\tconst xLeft = ((dayWidth * dayIndex) + (dayWidth / 2)) - (barWidth * 3),\n\t\t\t\t\t\t\t\tbarX = xLeft + (barWidth * repIndex),\n\t\t\t\t\t\t\t\tbarHeight = (rep * graphSize.repHeight) / bars.reps.maxValue;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn \"M\" + barX + \",\" + graphSize.barY + \n\t\t\t\t\t\t\t\t(exercise.hasWeight ?\n\t\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + graphSize.barY\n\t\t\t\t\t\t\t\t\t: \" C\" + barX + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + (graphSize.barY + 3) + \" \" + (barX + barWidth) + \",\" + graphSize.barY\n\t\t\t\t\t\t\t\t\t)+ \n\t\t\t\t\t\t\t\t\" L\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight) + \n\t\t\t\t\t\t\t\t\" C\" + (barX + barWidth) + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY - barHeight - 3) + \" \" + barX + \",\" + (graphSize.barY -barHeight);\n\t\t\t\t\t\t})\n\t\t\t\t\t})).flatMap(day => day.reps);\n\t\t\t\t\t\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...exercise,\n\t\t\t\t\t\tgraph: {\n\t\t\t\t\t\t\tdays: days,\n\t\t\t\t\t\t\tweightBars: exercise.hasWeight ? weightBars : [],\n\t\t\t\t\t\t\trepBars: repBars,\n\t\t\t\t\t\t\toneRepMaxPath: exercise.hasWeight ? oneRepMaxPath : \"\",\n\t\t\t\t\t\t\toneRepMaxPathFill: exercise.hasWeight ? oneRepMaxPath + \" L\" + graphSize.width + \",\" + graphSize.height + \" L0,\" + graphSize.height : \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tworkout.sets = workout.sets.map(workoutSet => ({\n\t\t\t\t\t...workoutSet,\n\t\t\t\t\t...this.getWeights(workoutSet.exercise.maxWeight, workoutSet.exercise),\n\t\t\t\t\treps: workoutSet.exercise.maxReps || 0,\n\t\t\t\t\tweight: workoutSet.exercise.maxWeight || 0,\n\t\t\t\t\texercise: exercises.find(exercise => exercise.name === workoutSet.exercise.name)\n\t\t\t\t}));\n\t\t\t\t\n\t\t\t\tthis.setState({\n\t\t\t\t\tworkout: workout,\n\t\t\t\t\texercises: exercises,\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t});\n\t\t\n\t\tlet Util={};\n\t\tUtil.base64 = function(mimeType, base64) {\n\t\t\treturn \"data:\" + mimeType + \";base64,\" + base64;\n\t\t};\n\t\t\n\t\tthis.video = document.createElement(\"video\");\n\t\tthis.video.setAttribute(\"loop\", \"\");\n\t\t\n\t\tlet source = document.createElement(\"source\");\n\t\tsource.src = \"data:video/webm;base64,GkXfo0AgQoaBAUL3gQFC8oEEQvOBCEKCQAR3ZWJtQoeBAkKFgQIYU4BnQI0VSalmQCgq17FAAw9CQE2AQAZ3aGFtbXlXQUAGd2hhbW15RIlACECPQAAAAAAAFlSua0AxrkAu14EBY8WBAZyBACK1nEADdW5khkAFVl9WUDglhohAA1ZQOIOBAeBABrCBCLqBCB9DtnVAIueBAKNAHIEAAIAwAQCdASoIAAgAAUAmJaQAA3AA/vz0AAA=\";\n\t\tsource.type = \"video/webm\";\n\t\tthis.video.appendChild(source);\n\t\t\n\t\tlet source2 = document.createElement(\"source\");\n\t\tsource2.src = \"data:video/mp4;AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAG21kYXQAAAGzABAHAAABthADAowdbb9/AAAC6W1vb3YAAABsbXZoZAAAAAB8JbCAfCWwgAAAA+gAAAAAAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIVdHJhawAAAFx0a2hkAAAAD3wlsIB8JbCAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAIAAAACAAAAAABsW1kaWEAAAAgbWRoZAAAAAB8JbCAfCWwgAAAA+gAAAAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAVxtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAEcc3RibAAAALhzdHNkAAAAAAAAAAEAAACobXA0dgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAIAAgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAFJlc2RzAAAAAANEAAEABDwgEQAAAAADDUAAAAAABS0AAAGwAQAAAbWJEwAAAQAAAAEgAMSNiB9FAEQBFGMAAAGyTGF2YzUyLjg3LjQGAQIAAAAYc3R0cwAAAAAAAAABAAAAAQAAAAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAAEwAAAAEAAAAUc3RjbwAAAAAAAAABAAAALAAAAGB1ZHRhAAAAWG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAK2lsc3QAAAAjqXRvbwAAABtkYXRhAAAAAQAAAABMYXZmNTIuNzguMw==\";\n\t\tsource2.type = \"video/mp4\";\n\t\tthis.video.appendChild(source2);\n\t\t\n\t}\n\t\n\tcompleteSet = setIndex => {\n\t\t\n\t\tif (this.state.restInterval) {\n\t\t\tclearInterval(this.state.restInterval);\n\t\t}\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: workout.sets.map((workoutSet, mapIndex) => ({\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\tisComplete: mapIndex === setIndex ? true : workoutSet.isComplete,\n\t\t\t\t\t\tisRest: mapIndex === setIndex ? true : false,\n\t\t\t\t\t}))\n\t\t\t\t},\n\t\t\tcountDown: { \n\t\t\t\tmin: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest / 60) : 0,\n\t\t\t\tsec: setIndex < workout.sets.length ? Math.floor(workout.sets[setIndex].rest % 60) : 0,\n\t\t\t\tcanPlayReady: true,\n\t\t\t\tcanPlayCountdown: true\n\t\t\t}\n\t\t}),\n\t\t() => {\n\t\t\tlet restInterval = setInterval(this.updateTime, 1000);\n\t\t\tthis.setState({ restInterval: restInterval });\n\t\t\tthis.video.play();\n\t\t});\n\t}\n\t\n\tdeleteSet = setIndex => {\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\taddSet = setIndex => {\n\t\tconst exercise = this.state.exercises[0],\n\t\t\tnewSet = {\n\t\t\t\texercise: exercise,\n\t\t\t\treps: exercise.maxReps || 0,\n\t\t\t\tweight: exercise.maxWeight || 0,\n\t\t\t\t...this.getWeights(exercise.maxWeight || 0, exercise),\n\t\t\t};\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex + 1),\n\t\t\t\t\tnewSet,\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t\t\n\t}\n\t\n\tchangeExercise = setIndex => event => {\n\t\tconst exercise = this.state.exercises.find(exercise => exercise.name === event.target.value);\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\treps: exercise.maxReps || 0,\n\t\t\t\t\t\tweight: exercise.maxWeight || 0,\n\t\t\t\t\t\texercise: exercise\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\tsaveActivity = () => {\n\t\tconst activity = {\n\t\t\tworkoutId: this.state.workout.id,\n\t\t\trunDate: new Date(),\n\t\t\tsets: this.state.workout.sets\n\t\t\t\t.filter(workoutSet => workoutSet.isComplete)\n\t\t\t\t.map(workoutSet => ({\n\t\t\t\t\texercise: {\n\t\t\t\t\t\tid: workoutSet.exercise.id,\n\t\t\t\t\t\tname: workoutSet.exercise.name,\n\t\t\t\t\t\tcategory: workoutSet.exercise.category\n\t\t\t\t\t},\n\t\t\t\t\treps: workoutSet.reps,\n\t\t\t\t\tweight: workoutSet.weight\n\t\t\t\t}))\n\t\t};\n\t\t\n\t\tfetch(\"http://workout.beynum.com/workout/api/activitysave\", { method: \"post\", headers: {\"Content-Type\": \"application/json\"}, credentials: \"include\", body: JSON.stringify({ activity: activity }) })\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.props.activityComplete();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.warn(error);\n\t\t\t\tthis.props.toast(\"Error updating workout\", true);\n\t\t\t});\n\t}\n\t\n\teditReps = (setIndex, newReps) => {\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\treps: newReps\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\teditWeight = (setIndex, weight) => {\n\t\tconst newTotal = this.state.workout.sets[setIndex].weight + (this.state.workout.sets[setIndex][\"has\" + weight] ? (weight * 2) * -1 : weight * 2);\n\t\t\n\t\tthis.setState(({workout}) => ({\n\t\t\tworkout: {\n\t\t\t\t...workout,\n\t\t\t\tsets: [\n\t\t\t\t\t...workout.sets.slice(0, setIndex),\n\t\t\t\t\t{\n\t\t\t\t\t\t...workout.sets[setIndex],\n\t\t\t\t\t\t...this.getWeights(newTotal, workout.sets[setIndex].exercise),\n\t\t\t\t\t\tweight: newTotal\n\t\t\t\t\t},\n\t\t\t\t\t...workout.sets.slice(setIndex + 1)\n\t\t\t\t]\n\t\t\t}\n\t\t}));\n\t}\n\t\n\tgetWeights = (totalWeight, exercise) => {\n\t\tlet weights = {};\n\t\t\n\t\ttotalWeight -= exercise.hasBar ? 45 : 0;\n\t\t\n\t\tweights.has45 = totalWeight >= 45 * 2;\n\t\ttotalWeight -= totalWeight >= 45 * 2 ? 45 * 2 : 0;\n\t\t\n\t\tweights.has25 = totalWeight >= 25 * 2;\n\t\ttotalWeight -= totalWeight >= 25 * 2 ? 25 * 2 : 0;\n\t\t\n\t\tweights.has10 = totalWeight >= 10 * 2;\n\t\ttotalWeight -= totalWeight >= 10 * 2 ? 10 * 2 : 0;\n\t\t\n\t\tweights.has5 = totalWeight >= 5 * 2;\n\t\ttotalWeight -= totalWeight >= 5 * 2 ? 5 * 2 : 0;\n\t\t\n\t\tweights[\"has2.5\"] = totalWeight >= 2.5 * 2;\n\t\ttotalWeight -= totalWeight >= 2.5 * 2 ? 2.5 * 2 : 0;\n\t\t\n\t\treturn weights;\n\t}\n\t\n\tupdateTime = () => {\n\t\tlet sec = this.state.countDown.sec,\n\t\t\tmin = this.state.countDown.min;\n\t\t\t\n\t\tif (sec > 0) {\n\t\t\tsec--;\n\t\t}\n\t\telse if (min > 0) {\n\t\t\tmin--;\n\t\t\tsec = 59;\n\t\t}\n\t\t\n\t\tif (sec <= 0 && min <= 0) {\n\t\t\t// complete\n\t\t\tif (this.state.restInterval) {\n\t\t\t\tclearInterval(this.state.restInterval);\n\t\t\t}\n\t\t\t\n\t\t\tthis.setState(({workout}) => ({\n\t\t\t\tworkout: {\n\t\t\t\t\t...workout,\n\t\t\t\t\tsets: workout.sets.map(workoutSet => ({\n\t\t\t\t\t\t...workoutSet,\n\t\t\t\t\t\tisRest: false\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t}));\n\t\t\t\n\t\t\tthis.video.pause();\n\t\t}\n\t\telse if (this.state.countDown.canPlayReady && min <= 0 && sec <= 30 && sec > 28) {\n\t\t\tconsole.log(\"ready\");\n\t\t\t// Play get ready\n\t\t\tthis.readyAudio.play();\n\t\t\tthis.setState(({countDown}) => ({ \n\t\t\t\tcountDown: {\n\t\t\t\t\t...countDown,\n\t\t\t\t\tcanPlayReady: false\n\t\t\t\t} \n\t\t\t}));\n\t\t}\n\t\telse if (this.state.countDown.canPlayCountdown && min <= 0 && sec <= 3) {\n\t\t\tconsole.log(\"countdown\");\n\t\t\t// PlayCountdown\n\t\t\tthis.countdownAudio.play();\n\t\t\tthis.setState(({countDown}) => ({ \n\t\t\t\tcountDown: {\n\t\t\t\t\t...countDown,\n\t\t\t\t\tcanPlayCountdown: false\n\t\t\t\t} \n\t\t\t}));\n\t\t}\n\t\t\n\t\tthis.setState(({countDown}) => ({\n\t\t\tcountDown: { \n\t\t\t\t...countDown,\n\t\t\t\tmin: min, \n\t\t\t\tsec: sec \n\t\t\t}\n\t\t}));\n\t\t\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"page\">\n\t\t\t{\n\t\t\tthis.state.isLoading ?\n\t\t\t\t<div className=\"loading\">\n\t\t\t\t\t<img alt=\"Loading\" src={loadingImage} />\n\t\t\t\t\t<div>Loading...</div>\n\t\t\t\t</div>\n\t\t\t:\n\t\t\t\t<div className=\"pageContainer\">\n\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t<h1>Workout { this.state.workout.name }</h1>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"headerButton\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" className=\"workoutAction\" onClick={ this.saveActivity }>\n\t\t\t\t\t\t\t\t<path d=\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z\"/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"setsContainer\">\t\n\t\t\t\t\t{\n\t\t\t\t\tthis.state.workout.sets.map((workoutSet, setIndex) => (\n\t\t\t\t\t\t<div key={setIndex} style={{ display: \"flex\" }}>\n\t\t\t\t\t\t\t<div className=\"setContainer\">\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setHeader\">\n\t\t\t\t\t\t\t\t\t<div className=\"setNameContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"header\">\n\t\t\t\t\t\t\t\t\t\t\t<select value={ workoutSet.exercise.name } onChange={ this.changeExercise(setIndex) }>\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.exercises.map((exercise, exerciseIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={exerciseIndex} value={exercise.name}>{exercise.name}</option>\n\t\t\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.exercise.category }</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div className=\"setNumberContainer\">\n\t\t\t\t\t\t\t\t\t\t<div>{ setIndex + 1 }</div>\n\t\t\t\t\t\t\t\t\t\t<div>{ this.state.workout.sets.length }</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"setDataContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataButton\" onClick={ () => this.editReps(setIndex, workoutSet.reps - 1) }>-</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataValue\">{ workoutSet.reps }</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"dataButton\" onClick={ () => this.editReps(setIndex, workoutSet.reps + 1) }>+</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ? \n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has2.5\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 2.5) }>2.5</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has5\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 5) }>5</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has10\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 10) }>10</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has25\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 25) }>25</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has35\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 35) }>35</div>\n\t\t\t\t\t\t\t\t\t\t<div className={`weightButton ${ workoutSet[\"has45\"] ? \"active\" : \"\" }`} onClick={ () => this.editWeight(setIndex, 45) }>45</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.exercise.hasWeight ?\n\t\t\t\t\t\t\t\t\t<div className=\"horizontalContainer\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"subHeader\">{ workoutSet.weight } lbs</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"graphContainer\">\n\t\t\t\t\t\t\t\t\t<svg viewBox=\"0 0 350 200\" className=\"workoutGraph\">\n\t\t\t\t\t\t\t\t\t\t<defs>\n\t\t\t\t\t\t\t\t\t\t\t<linearGradient spreadMethod=\"pad\" id=\"oneRepMaxGradient\" x1=\"0%\" y1=\"100%\" x2=\"0%\" y2=\"0%\">\n\t\t\t\t\t\t\t\t\t\t\t\t<stop offset=\"0%\" style={{stopColor: \"rgb(255, 255, 255)\", stopOpacity: 1}} />\n\t\t\t\t\t\t\t\t\t\t\t\t<stop offset=\"100%\" style={{stopColor: \"rgb(202 236 251)\", stopOpacity: 1}} />\n\t\t\t\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t\t\t\t</defs>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.oneRepMaxPath ?\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t\t<path className=\"stroke\" d={ workoutSet.exercise.graph.oneRepMaxPath } />\n\t\t\t\t\t\t\t\t\t\t\t<path className=\"fill\" d={ workoutSet.exercise.graph.oneRepMaxPathFill } fill=\"url(#oneRepMaxGradient)\" />\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.weightBars.map((path, barIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t<path key={ barIndex } className=\"weightBar\" d={ path } />\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<g>\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.exercise.graph.repBars.map((path, barIndex) => (\n\t\t\t\t\t\t\t\t\t\t\t<path key={ barIndex } className=\"repBar\" d={ path } />\n\t\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"actionContainer\">\n\t\t\t\t\t\t\t\t\t<div className=\"setActionButton\" onClick={ () => this.completeSet(setIndex) }>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.isComplete ?\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tworkoutSet.isComplete || workoutSet.isRest ?\n\t\t\t\t\t\t\t\t\t<div className=\"setComplete\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tworkoutSet.isRest && this.state.countDown.sec > 0 ?\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{ (this.state.countDown.min < 10 ? \"0\" : \"\") + this.state.countDown.min }</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div>{ (this.state.countDown.sec < 10 ? \"0\" : \"\") + this.state.countDown.sec }</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\tworkoutSet.isComplete && !workoutSet.isRest ?\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"/>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div className=\"setActionButton\" onClick={ () => this.deleteSet(setIndex) }>\n\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"/>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"addButton\">\n\t\t\t\t\t\t\t\t<div onClick={ () => this.addSet(setIndex) }>+</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WorkoutActivity;\n"]},"metadata":{},"sourceType":"module"}